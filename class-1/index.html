<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Learning</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
            display: flex;
            align-items: flex-start;
            justify-content: center;
        }

        .container {
            max-width: 480px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            box-shadow: 0 0 30px rgba(0,0,0,0.3);
        }

/* ===== BACK BUTTON STYLES - ADD THIS SECTION ===== */
.back-button-container {
    position: sticky;
    top: 40px;
    z-index: 9999;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    padding: 8px 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.back-button {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 14px;
    background: white;
    color: #667eea;
    text-decoration: none;
    border-radius: 8px;
    font-weight: 900;
    font-size: 14px;
    transition: all 0.3s;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    border: none;
    cursor: pointer;
}

.back-button:hover {
    transform: translateX(-3px);
    box-shadow: 0 3px 10px rgba(0,0,0,0.15);
}

.back-button:active {
    transform: translateX(-1px);
}

.back-arrow {
    font-size: 16px;
}

.home-button {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 14px;
    background: white;
    color: #667eea;
    text-decoration: none;
    border-radius: 8px;
    font-weight: 900;
    font-size: 14px;
    transition: all 0.3s;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    border: none;
    cursor: pointer;
}

.home-button:hover {
    transform: translateX(3px);
    box-shadow: 0 3px 10px rgba(0,0,0,0.15);
}

.home-button:active {
    transform: translateX(1px);
}

.home-icon {
    font-size: 16px;
}
/* ===== END BACK BUTTON STYLES ===== */

        
       .content-section {
     height: calc(100vh - 40px);  /* Subtract marquee height */
    overflow-y: scroll;  /* Changed from 'auto' to 'scroll' to force scrollbar */
    padding: 12px;
    padding-right: 12px;  /* Ensure content doesn't overlap scrollbar */
    background: linear-gradient(to bottom, #ffecd2 0%, #fcb69f 100%);
}

/* Force scrollbar to always be visible */
.content-section::-webkit-scrollbar {
    width: 12px;
}

.content-section::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.3);
    border-radius: 10px;
}

.content-section::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 10px;
}

.content-section::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
}
        .progress-bar {
            height: 4px;
            background: rgba(255,255,255,0.3);
            border-radius: 10px;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .sentence-text {
            background: white;
            padding: 15px;
            border-radius: 12px;
            font-size: 15px;
            line-height: 1.6;
            color: #333;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            margin-bottom: 12px;
            border-left: 4px solid #667eea;
            text-align: justify;
        }

        .test-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 8px;
            margin-bottom: 12px;
        }

        .test-btn {
            padding: 10px 8px;
            border: none;
            border-radius: 8px;
            font-size: 11px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
            box-shadow: 0 3px 8px rgba(0,0,0,0.2);
        }

.test-btn.mcq { 
    background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); 
}
.test-btn.tf { 
    background: linear-gradient(135deg, #0575e6 0%, #021b79 100%); 
}
.test-btn.fib { 
    background: linear-gradient(135deg, #134e5e 0%, #71b280 100%); 
}
.test-btn.matching { 
    background: linear-gradient(135deg, #c33764 0%, #1d2671 100%); 
}
.test-btn.arrange { 
    background: linear-gradient(135deg, #0f2027 0%, #203a43 100%); 
}
.test-btn.summary { 
    background: linear-gradient(135deg, #eb3349 0%, #f45c43 100%); 
}
        .test-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .test-btn:not(:disabled):active {
            transform: scale(0.98);
        }

        .score-display {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 12px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

.web-link-btn {
    display: block;
    width: 100%;
    padding: 12px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    text-decoration: none;
    text-align: center;
    border-radius: 8px;
    font-size: 14px;
    font-weight: bold;
    margin-bottom: 12px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    transition: all 0.3s ease;
}

.web-link-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

.web-link-btn:active {
    transform: scale(0.98);
}

        .test-section {
            background: white;
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 12px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            display: none;
        }

        .test-section.active {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .test-section h3 {
            font-size: 16px;
            margin-bottom: 12px;
        }

        .question {
            margin-bottom: 15px;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 3px solid #667eea;
        }

        .question-text {
            font-size: 14px;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
            text-align: justify;
        }

        .option {
            background: white;
            padding: 10px;
            margin: 6px 0;
            border-radius: 6px;
            cursor: pointer;
            border: 2px solid #e0e0e0;
            transition: all 0.2s ease;
            font-size: 13px;
        }

        .option:active {
            transform: scale(0.98);
        }

        .option.selected {
            background: #e3f2fd;
            border-color: #2196F3;
        }

        .option.correct {
            background: #c8e6c9;
            border-color: #4CAF50;
        }

        .option.wrong {
            background: #ffcdd2;
            border-color: #f44336;
        }

        .submit-btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 12px;
            transition: all 0.3s ease;
        }

        .submit-btn:active {
            transform: scale(0.98);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .navigation {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-top: 15px;
        }

        .nav-btn {
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 13px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
        }

     .nav-btn.prev {
    background: linear-gradient(135deg, #0047AB 0%, #003380 100%);
}

.nav-btn.next {
    background: linear-gradient(135deg, #0047AB 0%, #003380 100%);
}
        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .nav-btn:not(:disabled):active {
            transform: scale(0.98);
        }

        .matching-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }

        .match-item {
            background: white;
            padding: 8px;
            border-radius: 6px;
            border: 2px solid #e0e0e0;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
            font-size: 12px;
        }

        .match-item.selected {
            background: #e3f2fd;
            border-color: #2196F3;
        }

        .match-item.correct {
            background: #c8e6c9;
            border-color: #4CAF50;
        }

        .match-item.wrong {
            background: #ffcdd2;
            border-color: #f44336;
        }

        .arrange-words {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 12px;
        }

        .word-chip {
            background: white;
            padding: 8px 12px;
            border-radius: 15px;
            border: 2px solid #e0e0e0;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 13px;
        }

        .word-chip:active {
            transform: scale(0.95);
        }

        .word-chip.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .input-box {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            margin-top: 8px;
        }

        .feedback {
            padding: 10px;
            border-radius: 6px;
            margin-top: 10px;
            font-weight: bold;
            text-align: center;
            font-size: 13px;
        }

        .feedback.correct {
            background: #c8e6c9;
            color: #2e7d32;
        }

        .feedback.wrong {
            background: #ffcdd2;
            color: #c62828;
        }

        .arranged-answer {
            display: block;
            margin-top: 8px;
            font-weight: bold;
            color: #667eea;
            font-size: 13px;
        }

        .summary-content {
            background: white;
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 12px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .summary-content h2 {
            color: #667eea;
            font-size: 20px;
            margin-bottom: 15px;
            text-align: center;
        }

        .summary-content h3 {
            color: #f5576c;
            font-size: 16px;
            margin-top: 15px;
            margin-bottom: 8px;
        }

        .summary-content p {
            font-size: 14px;
            line-height: 1.6;
            color: #333;
            text-align: justify;
            margin-bottom: 12px;
        }

        .summary-content ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .summary-content li {
            font-size: 14px;
            line-height: 1.8;
            color: #333;
            margin-bottom: 10px;
            text-align: justify;
        }

        .summary-content li strong {
            color: #667eea;
        }
.login-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    display: flex;
    align-items: flex-start;
    justify-content: center;
    z-index: 10000;
    padding-top: 50px;
    padding-left: 0;      /* Add this */
    padding-right: 0;     /* Add this */
}
.login-container {
    background: white;
    padding: 30px 20px;  /* Reduced padding for mobile */
    border-radius: 20px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.3);
    max-width: 100%;     /* Changed from 400px to 100% */
    width: 95%;          /* Changed from 90% to 95% */
    margin: 0 auto;      /* Center the container */
}

.login-container h2 {
    text-align: center;
    color: #667eea;
    margin-bottom: 30px;
}

.login-input {
    width: 100%;
    padding: 15px;
    border: 2px solid #e0e0e0;
    border-radius: 10px;
    font-size: 16px;
    margin-bottom: 20px;
}

.consent-box {
    display: flex;
    align-items: flex-start;
    margin-bottom: 20px;
    font-size: 13px;
    gap: 10px;
}

.consent-box input[type="checkbox"] {
    appearance: none;
    width: 22px;
    height: 22px;
    min-width: 22px;
    border: 3px solid #667eea;
    border-radius: 6px;
    cursor: pointer;
    position: relative;
    transition: all 0.3s ease;
    margin-top: 2px;
}

.consent-box input[type="checkbox"]:checked {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-color: #667eea;
}

.consent-box input[type="checkbox"]:checked::after {
    content: '‚úì';
    position: absolute;
    color: white;
    font-size: 16px;
    font-weight: bold;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.consent-box input[type="checkbox"]:hover {
    border-color: #764ba2;
    box-shadow: 0 0 8px rgba(102, 126, 234, 0.4);
}

.consent-box label {
    line-height: 1.5;
    color: #333;
    cursor: pointer;
text-align: justify;
}

.consent-box label a {
    color: #667eea;
    text-decoration: none;
    font-weight: 600;
    border-bottom: 2px solid #667eea;
    transition: all 0.2s;
}

.consent-box label a:hover {
    border-bottom-color: #764ba2;
    color: #764ba2;
}

.toggle-class-btn {
    width: 100%;
    padding: 12px;
    background: linear-gradient(135deg, #0047AB 0%, #003380 100%);
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 15px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}
.toggle-class-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 15px rgba(0,0,0,0.3);
}

.toggle-class-btn:active {
    transform: scale(0.98);
}

.class-info-options {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    margin-top: 15px;
    animation: slideDown 0.3s ease;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.info-option-btn {
    padding: 12px;
    border: none;
    border-radius: 10px;
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    color: white;
    box-shadow: 0 3px 8px rgba(0,0,0,0.2);
}

.listen-btn {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
}

.see-btn {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
}

.info-option-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 12px rgba(0,0,0,0.3);
}

.info-option-btn:active {
    transform: scale(0.98);
}

.audio-player {
    margin-top: 15px;
    padding: 15px;
    background: white;
    border-radius: 10px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    animation: slideDown 0.3s ease;
}

.stop-audio-btn {
    width: 100%;
    padding: 10px;
    margin-top: 10px;
    background: linear-gradient(135deg, #f44336 0%, #e91e63 100%);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
}

.stop-audio-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}

.class-content-box {
    margin-top: 15px;
    padding: 20px;
    background: white;
    border-radius: 10px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    animation: slideDown 0.3s ease;
    text-align: left;
}

.class-content-box h3 {
    color: #667eea;
    margin-bottom: 12px;
    font-size: 18px;
}

.class-content-box p {
    color: #333;
    line-height: 1.6;
    margin-bottom: 15px;
    text-align: justify;
}

.class-content-box ul {
    list-style: none;
    padding: 0;
}

.class-content-box li {
    color: #333;
    padding: 10px;
    margin-bottom: 8px;
    background: #f8f9fa;
    border-radius: 8px;
    border-left: 4px solid #667eea;
    line-height: 1.6;
    text-align: justify;
}

.login-btn {
    width: 100%;
    padding: 15px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
}

.login-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.login-error {
    color: #f44336;
    text-align: center;
    margin-top: 15px;
    font-size: 14px;
}

.container {
    display: none;
}

.container.authenticated {
    display: block;
}
/* Make the marquee container not add to height */
body > div:first-child {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 10000;
    margin: 0;
}

/* Adjust main content to account for fixed marquee */
.welcome-page {
    padding-top: 40px; /* Adjust based on marquee height */
}

.container {
    padding-top: 40px; /* Adjust based on marquee height */
}
.mermaid-btn {
    width: 100%;
    padding: 12px;
    background: linear-gradient(135deg, #0047AB 0%, #003380 100%);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    margin-bottom: 12px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    transition: all 0.3s ease;
}

.mermaid-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

.mermaid-btn:active {
    transform: scale(0.98);
}

.mermaid-container {
    background: white;
    padding: 20px;
    border-radius: 12px;
    margin-bottom: 12px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    display: none;
    overflow-x: auto;
}

.mermaid-container.active {
    display: block;
    animation: slideIn 0.3s ease;
}

.mermaid-container h3 {
    color: #FF6B6B;
    font-size: 16px;
    margin-bottom: 15px;
    text-align: center;
}
.summary-toggle-buttons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-bottom: 15px;
}

.summary-toggle-btn {
    padding: 12px;
    border: none;
    border-radius: 8px;
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    color: white;
    box-shadow: 0 3px 10px rgba(0,0,0,0.2);
}

.summary-toggle-btn.active {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

.show-summary-btn {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.show-question-btn {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
}

.summary-question-content {
    display: none;
    background: white;
    padding: 15px;
    border-radius: 12px;
    margin-bottom: 12px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
}

.summary-question-content.active {
    display: block;
    animation: slideIn 0.3s ease;
}

.summary-question-content h3 {
    color: #f5576c;
    font-size: 18px;
    margin-bottom: 12px;
}

.summary-question-content p {
    font-size: 14px;
    line-height: 1.6;
    color: #333;
    text-align: justify;
    margin-bottom: 12px;
}

.summary-question-content ul {
    margin-left: 20px;
    margin-bottom: 15px;
}

.summary-question-content li {
    font-size: 14px;
    line-height: 1.8;
    color: #333;
    margin-bottom: 8px;
    text-align: justify;
}
/* Audio Control Button Styles */
.audio-control-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    border: none;
    border-radius: 50%;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    margin-left: 8px;
    vertical-align: middle;
}

.audio-control-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
}

.audio-control-btn:active {
    transform: scale(0.95);
}

.audio-control-btn.playing {
    background: linear-gradient(135deg, #f5576c 0%, #f093fb 100%);
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0%, 100% { box-shadow: 0 2px 8px rgba(0,0,0,0.2); }
    50% { box-shadow: 0 2px 15px rgba(245, 87, 108, 0.6); }
}

.audio-control-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

/* Container for question text with audio button */
.question-header {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    margin-bottom: 10px;
}

.question-header .question-text {
    flex: 1;
    margin-bottom: 0;
}
/* Better spacing for STQ questions with audio */
.question-header h3 {
    margin: 0;
    flex: 1;
}

/* Ensure audio buttons don't break layout in narrow spaces */
@media (max-width: 480px) {
    .question-header {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .audio-control-btn {
        margin-left: 0;
        margin-top: 8px;
    }
}
@media (max-width: 480px) {
    .login-container {
        width: 98%;
        padding: 25px 15px;
        border-radius: 15px;
    }
    
    .login-container h2 {
        font-size: 20px;
    }
    
    .login-input {
        padding: 12px;
        font-size: 15px;
    }
    
    .consent-box {
        font-size: 12px;
    }
}
/* AI Assistant Container Styles */
.assistant-container {
    display: none;
    background: white;
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.15);
    margin-bottom: 12px;
    overflow: hidden;
    animation: slideDown 0.3s ease;
    border: 3px solid;
    border-image: linear-gradient(135deg, #667eea 0%, #764ba2 100%) 1;
}

.assistant-container.active {
    display: block;
}

.assistant-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.assistant-header h3 {
    margin: 0;
    font-size: 16px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.assistant-close-btn {
    background: white;
    color: #667eea;
    border: none;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    cursor: pointer;
    font-size: 18px;
    font-weight: bold;
    transition: all 0.3s;
}

.assistant-close-btn:hover {
    transform: rotate(90deg);
    background: #f5576c;
    color: white;
}

.assistant-iframe-wrapper {
    position: relative;
    width: 100%;
    height: 600px;
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 20%);
}

.assistant-iframe-wrapper iframe {
    width: 100%;
    height: 100%;
    border: none;
    border-radius: 0 0 12px 12px;
}

.assistant-loading {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    color: #667eea;
}

.assistant-loading-spinner {
    border: 4px solid #f3f3f3;
    border-top: 4px solid #667eea;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    animation: spin 1s linear infinite;
    margin: 0 auto 10px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.assistant-info {
    background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
    padding: 12px;
    text-align: center;
    font-size: 13px;
    color: #555;
    border-top: 2px solid #667eea;
}

@media (max-width: 480px) {
    .assistant-iframe-wrapper {
        height: 500px;
    }
}
    </style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
<script>
    mermaid.initialize({ startOnLoad: false, theme: 'default' });
</script>
</head>
<body>
<div style="background: #ff9800; padding: 8px; color: white; font-weight: bold; position: fixed; top: 0; left: 0; right: 0; z-index: 99999; overflow: hidden; margin: 0;">
    <marquee behavior="scroll" direction="left" style="margin: 0;">
        ¬© 2025 ‚Ä¢ This is the property of Odisha e-Guru,Mayurbhanj,Odisha ‚Ä¢ For Educational Use Only ‚Ä¢ Copying & Distribution Prohibited ‚Ä¢ All Rights Reserved
    </marquee>
</div>

    
<div id="loginScreen" class="login-screen">
    <div class="login-container">
        <h1 class="welcome-title" style="text-align: center;">‡¨ì‡¨°‡¨ø‡¨∂‡¨æ ‡¨á-‡¨ó‡≠Å‡¨∞‡≠Å ‡¨¶‡≠ç‡¨µ‡¨æ‡¨∞‡¨æ ‡¨™‡≠ç‡¨∞‡¨∏‡≠ç‡¨§‡≠Å‡¨§</h1>
       <p class="welcome-subtitle" style="text-align: center;"><b>üåπ‡¨è‡¨π‡¨ø ‡¨∏‡≠ç‡¨µ‡¨§‡¨®‡≠ç‡¨§‡≠ç‡¨∞ ‡¨Æ‡¨û‡≠ç‡¨ö‡¨∞‡≠á ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï‡≠Å ‡¨∏‡≠ç‡¨µ‡¨æ‡¨ó‡¨§üåπ</b></p>  
        
        <input type="text" id="rollNumberInput" placeholder="‡¨¶‡≠ü‡¨æ‡¨ï‡¨∞‡¨ø ‡¨è‡¨†‡¨æ‡¨∞‡≠á ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨∞‡≠ã‡¨≤‡≠ç ‡¨®‡¨Æ‡≠ç‡¨¨‡¨∞ ‡¨≤‡≠á‡¨ñ‡¨®‡≠ç‡¨§‡≠Å..." class="login-input">
        
        <div class="consent-box">
            <input type="checkbox" id="consentCheck">
            <label for="consentCheck">I agree to device tracking, usage monitoring, audio playback, internet access, data storage, and all <a href="https://sites.google.com/view/eguruodishastp/terms-and-conditions" target="_blank">terms & conditions</a> of Odisha e-Guru.</label>
        </div>
       <button id="loginBtn" class="login-btn">‡¨â‡¨™‡¨∞‡≠ã‡¨ï‡≠ç‡¨§ ‡¨õ‡≠ã‡¨ü ‡¨¨‡¨æ‡¨ï‡≠ç‡¨∏‡¨∞‡≠á ‡¨ï‡≠ç‡¨≤‡¨ø‡¨ï‡≠ç ‡¨ï‡¨∞‡¨ø‡¨∏‡¨æ‡¨∞‡¨ø‡¨¨‡¨æ ‡¨™‡¨∞‡≠á ‡¨è‡¨†‡¨æ‡¨∞‡≠á ‡¨ï‡≠ç‡¨≤‡¨ø‡¨ï‡≠ç ‡¨ï‡¨∞‡¨ø ‡¨ï‡≠ç‡¨≤‡¨æ‡¨∏‡≠ç-‡¨∞‡≠Å‡¨Æ‡≠ç ‡¨∞‡≠á ‡¨™‡≠ç‡¨∞‡¨¨‡≠á‡¨∂ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§</button>
        <div id="loginError" class="login-error"></div>

            <!-- Know Your Roll Number Button -->
        <button onclick="window.open('https://llb-registration.pages.dev/bns/', '_blank')" class="roll-number-btn" style="background-color: #FF6B6B; margin-top: 10px; padding: 12px; font-size: 14px; border: none; border-radius: 8px; color: white; cursor: pointer; width: 100%; font-weight: bold;">
            üìã ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨∞‡≠ã‡¨≤‡≠ç ‡¨®‡¨Æ‡≠ç‡¨¨‡¨∞ ‡¨ú‡¨æ‡¨£‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨è‡¨†‡¨æ‡¨∞‡≠á ‡¨ï‡≠ç‡¨≤‡¨ø‡¨ï‡≠ç ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§ 
        </button>  
        
        <!-- What's in the Class Section -->
        <div style="margin-top: 20px;">
            <button id="toggleClassInfo" class="toggle-class-btn">üìö ‡¨è‡¨π‡¨ø ‡¨ï‡≠ç‡¨≤‡¨æ‡¨∏‡≠ç ‡¨∞‡≠á ‡¨ï'‡¨£ ‡¨Ö‡¨õ‡¨ø ? <br>‡¨ú‡¨æ‡¨£‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨è‡¨†‡¨æ‡¨∞‡≠á ‡¨ï‡≠ç‡¨≤‡¨ø‡¨ï‡≠ç ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§ </button>
            
            <div id="classInfoOptions" class="class-info-options" style="display: none;">
                <button id="listenBtn" class="info-option-btn listen-btn">üéß ‡¨∂‡≠Å‡¨£‡¨®‡≠ç‡¨§‡≠Å..</button>
                <button id="seeBtn" class="info-option-btn see-btn">üëÅÔ∏è ‡¨¶‡≠á‡¨ñ‡¨®‡≠ç‡¨§‡≠Å..</button>
            </div>
            
            <div id="audioPlayer" class="audio-player" style="display: none;">
                <audio id="classAudio" controls style="width: 100%; margin-top: 10px;">
                    <source src="https://github.com/eguruOdisha/FRONT/raw/main/ospage1.mp3" type="audio/mpeg">
                    Your browser does not support audio playback.
                </audio>
                <button id="stopAudioBtn" class="stop-audio-btn">‚èπÔ∏è Stop</button>
            </div>
            
            <div id="classContent" class="class-content-box" style="display: none;">
                <h3>üìñ ‡¨¨‡¨ø‡¨∑‡≠ü‡¨¨‡¨∏‡≠ç‡¨§‡≠Å : ‡¨™‡≠ç‡¨∞‡¨•‡¨Æ ‡¨Ö‡¨ß‡≠ç‡≠ü‡¨æ‡≠ü‡¨∞ Unit-1</h3>
                <p>‡¨è‡¨π‡¨ø ‡¨ï‡≠ç‡¨≤‡¨æ‡¨∏‡≠ç ‡¨∞‡≠á ‡¨Ü‡¨Æ‡≠á ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨¨‡¨æ :</p>
                <ul>
                    <li>üìù Unit-1 ‡¨∞ ‡¨∏‡¨æ‡¨∞‡¨ï‡¨•‡¨æ(‡¨ì‡¨°‡¨ø‡¨Ü‡¨∞‡≠á)</li>
                    <li>üìù Unit-1 ‡¨∞‡≠á ‡¨•‡¨ø‡¨¨‡¨æ ‡¨á‡¨Ç‡¨∞‡¨æ‡¨ú‡≠Ä ‡¨∂‡¨¨‡≠ç‡¨¶‡¨ó‡≠Å‡¨°‡¨ø‡¨ï‡¨∞ ‡¨ì‡¨°‡¨ø‡¨Ü ‡¨Ö‡¨∞‡≠ç‡¨•/li>
                    <li>üìù Unit-1 ‡¨∞ ‡¨∏‡¨æ‡¨∞‡¨ï‡¨•‡¨æ(‡¨á‡¨Ç‡¨∞‡¨æ‡¨ú‡≠Ä‡¨∞‡≠á)</li>
                    <li>üìù Unit-1 ‡¨∏‡¨Æ‡≠ç‡¨¨‡¨®‡≠ç‡¨ß‡≠Ä‡≠ü ‡¨Ö‡¨§‡¨ø ‡¨∏‡¨Ç‡¨ï‡≠ç‡¨∑‡¨ø‡¨™‡≠ç‡¨§ ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨®‡≠ã‡¨§‡≠ç‡¨§‡¨∞</li>
                    <li>üìù Unit-1 ‡¨∏‡¨Æ‡≠ç‡¨¨‡¨®‡≠ç‡¨ß‡≠Ä‡≠ü ‡¨∏‡¨Ç‡¨ï‡≠ç‡¨∑‡¨ø‡¨™‡≠ç‡¨§ ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨®‡≠ã‡¨§‡≠ç‡¨§‡¨∞</li>
                    <li>üìù Unit-1 ‡¨∏‡¨Æ‡≠ç‡¨¨‡¨®‡≠ç‡¨ß‡≠Ä‡≠ü ‡¨¶‡≠Ä‡¨∞‡≠ç‡¨ò ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨®‡≠ã‡¨§‡≠ç‡¨§‡¨∞</li>
                </ul>
            </div>
        </div>
        
        <!-- Small Round Image Container -->
        <div class="image-container" style="
            margin-top: 20px;
            text-align: center;
        ">
            <div style="
                display: inline-block;
                padding: 10px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                border-radius: 50%;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            ">
                <img src="https://github.com/eguruOdisha/BNSS/raw/main/bot%20image-1.gif" 
                     alt="AI Assistant" 
                     class="assistant-image"
                     style="
                        display: block;
                        width: 100px;
                        height: 100px;
                        border-radius: 50%;
                        object-fit: contain;
                        background: white;
                     ">
            </div>
            <p class="info-text" style="
                margin-top: 15px;
                font-size: 14px;
                color: #000000;
                font-weight: bold;
            ">
                üìö ‡¨∂‡¨ø‡¨ï‡≠ç‡¨∑‡¨æ‡¨∞‡≠á ‡¨°‡¨ø‡¨ú‡¨ø‡¨ü‡¨æ‡¨≤ ‡¨Ø‡≠Å‡¨ó‡¨∞ ‡¨Ü‡¨∞‡¨Æ‡≠ç‡¨≠ ‚Äì ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨∏‡¨π‡¨ø‡¨§ ‡•§
            </p>
        </div>
    </div>
</div>
    <div class="container">

        <div class="content-section">
            <div class="progress-bar">
                <div id="progressFill" class="progress-fill" style="width: 0%"></div>
            </div>
            
            <div id="scoreDisplay" class="score-display" style="display: none;">
                ‡¨è‡¨π‡¨ø ‡¨™‡≠É‡¨∑‡≠ç‡¨†‡¨æ ‡¨ü‡¨ø ‡¨ï‡≠Å ‡¨™‡¨¢‡≠Å ‡¨™‡¨¢‡≠Å ‡¨Ü‡¨™‡¨£ ‡¨ï‡≠á‡¨§‡≠á ‡¨Æ‡¨æ‡¨∞‡≠ç‡¨ï‡≠ç ‡¨∞‡¨ñ‡¨ø‡¨≤‡≠á ‡¨¶‡≠á‡¨ñ‡¨®‡≠ç‡¨§‡≠Å : <span id="totalScore">0</span> / <span id="maxScore">0</span>
            </div>

                    <!-- Small Round Image Container -->
        <div class="image-container" style="
            margin-top: 20px;
            text-align: center;
        ">
            <div style="
                display: inline-block;
                padding: 10px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                border-radius: 50%;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            ">
                <img src="https://github.com/eguruOdisha/BNSS/raw/main/bot%20image-1.gif" 
                     alt="AI Assistant" 
                     class="assistant-image"
                     style="
                        display: block;
                        width: 100px;
                        height: 100px;
                        border-radius: 50%;
                        object-fit: contain;
                        background: white;
                     ">
            </div>
            <p class="info-text" style="
                margin-top: 15px;
                font-size: 14px;
                color: #000000;
                font-weight: bold;
            ">
            </p>
        </div>
    
<button id="toggleAssistantBtn" class="web-link-btn" style="border: none; cursor: pointer;">
    üôã ‡¨Ü‡¨∏‡¨®‡≠ç‡¨§‡≠Å, ‡¨è‡¨†‡¨æ‡¨∞‡≠á ‡¨Ü‡¨∏‡¨ø‡¨∑‡≠ç‡¨ü‡¨æ‡¨£‡≠ç‡¨ü ‡¨ï‡≠Å ‡¨™‡¨æ‡¨† ‡¨™‡¨ö‡¨æ‡¨∞‡¨ø‡¨¨‡¨æ...
</button>

<div id="assistantContainer" class="assistant-container">
    <div class="assistant-header">
        <h3>ü§ñ ‡¨Æ‡≠Å‡¨Å ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨Ü‡¨∏‡¨ø‡¨∑‡≠ç‡¨ü‡¨æ‡¨£‡≠ç‡¨ü - ‡¨Æ‡≠ã‡¨§‡≠á ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨® ‡¨™‡¨ö‡¨æ‡¨∞‡¨®‡≠ç‡¨§‡≠Å</h3>
        <button class="assistant-close-btn" onclick="closeAssistant()">‚úï</button>
    </div>
    <div class="assistant-iframe-wrapper">
        <div class="assistant-loading" id="assistantLoading">
            <div class="assistant-loading-spinner"></div>
            <p>‡¨¶‡≠ü‡¨æ‡¨ï‡¨∞‡¨ø ‡¨Ö‡¨™‡≠á‡¨ï‡≠ç‡¨∑‡¨æ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å... ‡¨Ü‡¨∏‡¨ø‡¨∑‡≠ç‡¨ü‡¨æ‡¨£‡≠ç‡¨ü ‡¨≤‡≠ã‡¨°‡≠ç ‡¨π‡≠á‡¨â‡¨õ‡¨ø...</p>
        </div>
        <iframe 
            id="assistantIframe"
            src="" 
            allow="microphone; camera; clipboard-write"
            style="display: none;">
        </iframe>
    </div>
    <div class="assistant-info">
        üí° ‡¨è‡¨π‡¨ø ‡¨Ü‡¨∏‡¨ø‡¨∑‡≠ç‡¨ü‡¨æ‡¨£‡≠ç‡¨ü ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨™‡¨æ‡¨† ‡¨∏‡¨Æ‡≠ç‡¨¨‡¨®‡≠ç‡¨ß‡≠Ä‡≠ü ‡¨∏‡¨¨‡≠Å ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨®‡¨∞ ‡¨â‡¨§‡≠ç‡¨§‡¨∞ ‡¨¶‡≠á‡¨¨ | ‡¨Ü‡¨∞‡¨æ‡¨Æ‡¨∞‡≠á ‡¨™‡¨ö‡¨æ‡¨∞‡¨®‡≠ç‡¨§‡≠Å !
    </div>
</div>
            
            <div id="sentenceText" class="sentence-text"></div>
 <button id="mermaidBtn" class="mermaid-btn">üìä ‡¨Ü‡¨∏‡¨®‡≠ç‡¨§‡≠Å, ‡¨ö‡¨ø‡¨§‡≠ç‡¨∞ ‡¨¶‡≠á‡¨ñ‡¨ø ‡¨¨‡≠Å‡¨ù‡¨ø‡¨¨‡¨æ..</button>
<div id="mermaidContainer" class="mermaid-container"></div>           
            <div class="test-buttons">
                <button id="mcqBtn" class="test-btn mcq">üìù ‡¨¨‡¨ø‡¨ï‡¨≥‡≠ç‡¨™ ‡¨â‡¨§‡≠ç‡¨§‡¨∞‡¨Ø‡≠Å‡¨ï‡≠ç‡¨§ ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨®</button>
                <button id="tfBtn" class="test-btn tf" disabled>‚úì ‡¨∏‡¨§‡≠ç‡≠ü/‡¨Æ‡¨ø‡¨•‡≠ç‡≠ü‡¨æ ‡¨¶‡¨∞‡≠ç‡¨∂‡¨æ‡¨á‡¨¨‡¨æ ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨®</button>
                <button id="fibBtn" class="test-btn fib" disabled>‚úèÔ∏è ‡¨∂‡≠Ç‡¨®‡≠ç‡≠ü‡¨æ‡¨∏‡≠ç‡¨•‡¨æ‡¨® ‡¨™‡≠Ç‡¨∞‡¨£ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ</button>
                <button id="matchBtn" class="test-btn matching" disabled>üîó ‡¨∂‡¨¨‡≠ç‡¨¶ ‡¨Æ‡≠á‡¨≥ ‡¨ï‡¨∞‡¨æ‡¨á‡¨¨‡¨æ</button>
                <button id="arrangeBtn" class="test-btn arrange" disabled>üî§ ‡¨∂‡¨¨‡≠ç‡¨¶‡¨ï‡≠Å ‡¨∏‡¨ú‡¨æ‡¨á‡¨¨‡¨æ</button>
                <button id="stqBtn" class="test-btn summary" disabled>üìù ‡¨Ö‡¨§‡¨ø ‡¨∏‡¨Ç‡¨ï‡≠ç‡¨∑‡¨ø‡¨™‡≠ç‡¨§ ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨®‡≠ã‡¨§‡≠ç‡¨§‡¨∞</button>
            </div>
            
            <div id="testContainer"></div>
            
            <div class="navigation">
                <button id="prevBtn" class="nav-btn prev" disabled>‚¨ÖÔ∏è ‡¨™‡¨õ‡¨ï‡≠Å ‡¨´‡≠á‡¨∞‡¨ø‡¨¨‡¨æ</button>
                <button id="nextBtn" class="nav-btn next" disabled>‡¨Ü‡¨ó‡¨ï‡≠Å ‡¨Ø‡¨ø‡¨¨‡¨æ ‚û°Ô∏è</button>
            </div>
        </div>
    </div>

<script>
// Google Apps Script Web App URL
const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzxjlMk-7ZvfXyj7FOVVx1Igs8pRTZOYv5Dswr_GOQy4tEr3yI7ElEEnhkXkw17rbsgoQ/exec';

// CRITICAL: This must match CLASS_SHEET_NAME in your registration script
const CLASS_NAME = "bns";  

// Generate unique device ID based on browser fingerprint
function getDeviceId() {
    let deviceId = localStorage.getItem('deviceId');
    if (!deviceId) {
        const nav = navigator;
        const screen = window.screen;
        const fingerprint = [
            nav.userAgent,
            nav.language,
            screen.colorDepth,
            screen.width + 'x' + screen.height,
            new Date().getTimezoneOffset(),
            !!window.sessionStorage,
            !!window.localStorage
        ].join('|');
        
        let hash = 0;
        for (let i = 0; i < fingerprint.length; i++) {
            const char = fingerprint.charCodeAt(i);
            hash = ((hash << 5) - hash) + char;
            hash = hash & hash;
        }
        
        deviceId = 'DEV_' + Math.abs(hash).toString(36);
        localStorage.setItem('deviceId', deviceId);
    }
    return deviceId;
}

// Session tracking
let sessionData = {
    rollNumber: null,
    deviceId: getDeviceId(),
    className: CLASS_NAME,  // ADD THIS
    loginTime: null,
    logoutTime: null,
    lastActivity: null
};

// Login handler
document.getElementById('loginBtn').addEventListener('click', async function() {
    const rollNumber = document.getElementById('rollNumberInput').value.trim();
    const consent = document.getElementById('consentCheck').checked;
    const errorDiv = document.getElementById('loginError');
    
    errorDiv.textContent = '';
    
    if (!rollNumber) {
        errorDiv.textContent = '‡¨¶‡≠ü‡¨æ‡¨ï‡¨∞‡¨ø ‡¨∞‡≠ã‡¨≤‡≠ç ‡¨®‡¨Æ‡≠ç‡¨¨‡¨∞ ‡¨≤‡≠á‡¨ñ‡¨®‡≠ç‡¨§‡≠Å ‡•§';
        return;
    }
    
    if (!consent) {
        errorDiv.textContent = '‡¨¶‡≠ü‡¨æ‡¨ï‡¨∞‡¨ø ‡¨∏‡¨∞‡≠ç‡¨§‡≠ç‡¨§‡¨æ‡¨¨‡¨≥‡≠Ä‡¨∞‡≠á ‡¨∏‡¨π‡¨Æ‡¨§‡¨ø ‡¨ú‡¨£‡¨æ‡¨á‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨õ‡≠ã‡¨ü ‡¨ö‡≠á‡¨ï‡≠ç-‡¨¨‡¨æ‡¨ï‡≠ç‡¨∏ ‡¨∞‡≠á ‡¨ï‡≠ç‡¨≤‡¨ø‡¨ï‡≠ç ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§';
        return;
    }
    
    this.disabled = true;
    this.textContent = '‡¨¶‡≠ü‡¨æ‡¨ï‡¨∞‡¨ø ‡¨Ö‡¨™‡≠á‡¨ï‡≠ç‡¨∑‡¨æ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å... ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï‡¨∞ ‡¨™‡¨∞‡¨ø‡¨ö‡≠ü‡¨™‡¨§‡≠ç‡¨∞ ‡¨Ø‡¨æ‡¨û‡≠ç‡¨ö ‡¨ï‡¨∞‡¨æ‡¨Ø‡¨æ‡¨â‡¨õ‡¨ø ‡•§ ‡¨è‡¨•‡¨ø‡¨∞‡≠á ‡¨ï‡¨ø‡¨õ‡¨ø ‡¨∏‡¨Æ‡≠ü ‡¨≤‡¨æ‡¨ó‡¨ø‡¨™‡¨æ‡¨∞‡≠á (‡¨™‡≠ç‡¨∞‡¨æ‡≠ü 10 ‡¨∏‡≠á‡¨ï‡≠á‡¨£‡≠ç‡¨°) ‡•§';
    
    try {
        // CRITICAL FIX: Add className parameter
        const verifyResponse = await fetch(
            `${GOOGLE_SCRIPT_URL}?action=verify&rollNumber=${rollNumber}&deviceId=${sessionData.deviceId}&className=${CLASS_NAME}`
        );
        const result = await verifyResponse.json();
        
        if (!result.success) {
            errorDiv.textContent = result.message || '‡¨≤‡¨ó‡¨á‡¨®‡≠ç ‡¨¨‡¨ø‡¨´‡¨≥ ‡¨π‡≠á‡¨≤‡¨æ ‡•§ ‡¨¶‡≠ü‡¨æ‡¨ï‡¨∞‡¨ø ‡¨Ü‡¨Æ ‡¨™‡≠ç‡¨∞‡¨§‡¨ø‡¨®‡¨ø‡¨ß‡¨ø‡¨ô‡≠ç‡¨ï ‡¨∏‡¨π‡¨ø‡¨§ ‡¨Ø‡≠ã‡¨ó‡¨æ‡¨Ø‡≠ã‡¨ó ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§';
            this.disabled = false;
            this.textContent = 'Enter';
            return;
        }
        
        // CRITICAL FIX: Send className instead of classNumber
        await fetch(GOOGLE_SCRIPT_URL, {
            method: 'POST',
            mode: 'no-cors',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                action: 'login',
                rollNumber: rollNumber,
                deviceId: sessionData.deviceId,
                className: CLASS_NAME,  // Changed from classNumber: 2
                timestamp: new Date().toISOString()
            })
        });
        
        if (result.success) {
            sessionData.rollNumber = rollNumber;
            sessionData.loginTime = new Date();
            sessionData.lastActivity = new Date();
            
            document.getElementById('loginScreen').style.display = 'none';
            document.querySelector('.container').classList.add('authenticated');
            initializeApp(); 
            startActivityTracking();
        } else {
            errorDiv.textContent = result.message || '‡¨≤‡¨ó‡¨á‡¨®‡≠ç ‡¨¨‡¨ø‡¨´‡¨≥ ‡¨π‡≠á‡¨≤‡¨æ ‡•§ ‡¨¶‡≠ü‡¨æ‡¨ï‡¨∞‡¨ø ‡¨Ü‡¨Æ ‡¨™‡≠ç‡¨∞‡¨§‡¨ø‡¨®‡¨ø‡¨ß‡¨ø‡¨ô‡≠ç‡¨ï ‡¨∏‡¨π‡¨ø‡¨§ ‡¨Ø‡≠ã‡¨ó‡¨æ‡¨Ø‡≠ã‡¨ó ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§';
        }
    } catch (error) {
        errorDiv.textContent = '‡¨ï‡≠ç‡¨∑‡¨Æ‡¨æ ‡¨ï‡¨∞‡¨ø‡¨¨‡≠á ‡¨Ü‡¨ú‡≠ç‡¨û‡¨æ ‡•§ ‡¨ï‡≠å‡¨£‡¨∏‡¨ø ‡¨ï‡¨æ‡¨∞‡¨£ ‡¨¨‡¨∂‡¨§‡¨É ‡¨∏‡¨Ç‡¨Ø‡≠ã‡¨ó ‡¨π‡≠ã‡¨á‡¨™‡¨æ‡¨∞‡≠Å‡¨®‡¨æ‡¨π‡¨ø‡¨Å ‡•§ ‡¨¶‡≠ü‡¨æ‡¨ï‡¨∞‡¨ø ‡¨Ü‡¨â‡¨•‡¨∞‡≠á ‡¨ö‡≠á‡¨∑‡≠ç‡¨ü‡¨æ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§ ‡¨Ö‡¨ß‡¨ø‡¨ï ‡¨Ö‡¨∏‡≠Å‡¨¨‡¨ø‡¨ß‡¨æ ‡¨π‡≠á‡¨≤‡≠á ‡¨¶‡≠ü‡¨æ‡¨ï‡¨∞‡¨ø ‡¨Ü‡¨Æ ‡¨™‡≠ç‡¨∞‡¨§‡¨ø‡¨®‡¨ø‡¨ß‡¨ø‡¨ô‡≠ç‡¨ï ‡¨∏‡¨π‡¨ø‡¨§ ‡¨Ø‡≠ã‡¨ó‡¨æ‡¨Ø‡≠ã‡¨ó ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§';
        console.error('Login error:', error);
    }
    
    this.disabled = false;
    this.textContent = 'Enter';
});

// Activity tracking
function startActivityTracking() {
    ['click', 'keypress', 'scroll', 'touchstart'].forEach(event => {
        document.addEventListener(event, () => {
            sessionData.lastActivity = new Date();
        });
    });
    
    setInterval(sendHeartbeat, 120000);
    window.addEventListener('beforeunload', handleLogout);
}

async function sendHeartbeat() {
    try {
        await fetch(GOOGLE_SCRIPT_URL, {
            method: 'POST',
            mode: 'no-cors',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                action: 'heartbeat',
                rollNumber: sessionData.rollNumber,
                deviceId: sessionData.deviceId,
                className: CLASS_NAME,  // ADD THIS
                timestamp: new Date().toISOString()
            })
        });
    } catch (error) {
        console.error('Heartbeat error:', error);
    }
}

async function handleLogout() {
    sessionData.logoutTime = new Date();
    const duration = Math.floor((sessionData.logoutTime - sessionData.loginTime) / 1000);
    
    try {
        await fetch(GOOGLE_SCRIPT_URL, {
            method: 'POST',
            keepalive: true,
            mode: 'no-cors',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                action: 'logout',
                rollNumber: sessionData.rollNumber,
                deviceId: sessionData.deviceId,
                className: CLASS_NAME,  // ADD THIS
                timestamp: new Date().toISOString(),
                duration: duration
            })
        });
    } catch (error) {
        console.error('Logout error:', error);
    }
}

const courseData = {
            teacherImage: "https://via.placeholder.com/400x300/667eea/ffffff?text=Teacher",
            sentences: [
 {
            text: "‡¨è‡¨π‡¨ø unit ‡¨∞‡≠á ‡¨≤‡≠á‡¨ñ‡¨ï ‡¨ï‡¨π‡≠Å‡¨õ‡¨®‡≠ç‡¨§‡¨ø : <br>üëâ ‡¨Æ‡≠Å‡¨Å ‡¨Æ‡¨∏‡≠ç‡¨ï‡≠ã‡¨∞‡≠á ‡¨è‡¨ï‡¨æ ‡¨∞‡¨π‡≠Å‡¨•‡¨ø‡¨≤‡¨ø‡•§ ‡¨Æ‡≠ã ‡¨¨‡¨æ‡¨™‡¨æ‡¨Æ‡¨æ‡¨Ü‡¨ô‡≠ç‡¨ï ‡¨õ‡¨æ‡¨°‡¨™‡¨§‡≠ç‡¨∞ ‡¨π‡≠ã‡¨á‡¨•‡¨ø‡¨≤‡¨æ ‡•§ <br><br>üëâ‡¨Æ‡≠ã ‡¨¨‡¨æ‡¨™‡¨æ ‡¨ï‡¨æ‡¨ú‡¨æ‡¨ñ‡¨∏‡≠ç‡¨§‡¨æ‡¨®‡¨∞‡≠á ‡¨•‡¨ø‡¨≤‡≠á ‡•§ ‡¨§‡¨æ‡¨ô‡≠ç‡¨ï‡¨∞ ‡¨è‡¨ï ‡¨®‡≠Ç‡¨§‡¨® ‡¨∏‡≠ç‡¨§‡≠ç‡¨∞‡≠Ä ‡¨è‡¨¨‡¨Ç ‡¨¶‡≠Å‡¨á‡¨ü‡¨ø ‡¨™‡¨ø‡¨≤‡¨æ ‡¨•‡¨ø‡¨≤‡≠á‡•§ ‡¨∏‡≠á ‡¨Æ‡≠ã‡¨§‡≠á ‡¨ö‡¨ø‡¨†‡¨ø ‡¨™‡¨†‡¨æ‡¨â ‡¨®‡¨•‡¨ø‡¨≤‡≠á‡•§ <br><br>üëâ ‡¨Æ‡≠ã ‡¨Æ‡¨æ‡¨Ü ‡¨Ø‡≠Å‡¨¶‡≠ç‡¨ß ‡¨∏‡¨Æ‡≠ç‡¨Æ‡≠Å‡¨ñ ‡¨≠‡¨æ‡¨ó‡¨∞‡≠á ‡¨•‡¨ø‡¨≤‡≠á‡•§ ‡¨∏‡≠á ‡¨∏‡≠à‡¨®‡¨ø‡¨ï‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï ‡¨™‡¨æ‡¨á‡¨Å ‡¨ó‡≠Ä‡¨§ ‡¨ó‡¨æ‡¨á‡¨•‡¨ø‡¨≤‡≠á‡•§ <br><br>üëâ ‡¨Æ‡≠Å‡¨Å ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ‡¨∞‡≠á ‡¨¨‡¨¢‡¨º‡¨ø‡¨•‡¨ø‡¨≤‡¨ø‡•§ ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨Æ‡≠ã‡¨§‡≠á ‡¨ñ‡¨∞‡¨æ‡¨™ ‡¨Ö‡¨≠‡≠ç‡≠ü‡¨æ‡¨∏ ‡¨∂‡¨ø‡¨ñ‡¨æ‡¨á‡¨≤‡¨æ‡•§ ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨Æ‡≠ã‡¨§‡≠á ‡¨≤‡¨¢‡¨º‡¨ø‡¨¨‡¨æ ‡¨∂‡¨ø‡¨ñ‡¨æ‡¨á‡¨≤‡¨æ‡•§ ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨Æ‡≠ã‡¨§‡≠á ‡¨ï‡¨æ‡¨π‡¨æ‡¨ï‡≠Å ‡¨≠‡≠ü ‡¨® ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ‡¨ï‡≠Å ‡¨∂‡¨ø‡¨ñ‡¨æ‡¨á‡¨≤‡¨æ ‡•§ ‡¨Æ‡≠Å‡¨Å ‡¨∂‡¨ï‡≠ç‡¨§‡¨ø‡¨∂‡¨æ‡¨≥‡≠Ä ‡¨≤‡≠ã‡¨ï‡¨ô‡≠ç‡¨ï‡≠Å ‡¨® ‡¨°‡¨∞‡¨ø‡¨¨‡¨æ ‡¨â‡¨ö‡¨ø‡¨§ ‡¨¨‡≠ã‡¨≤‡¨ø ‡¨Æ‡≠Å‡¨Å ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ‡¨∞‡≠á ‡¨∞‡¨π‡≠Å ‡¨∞‡¨π‡≠Å ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨ó‡¨≤‡¨ø ‡•§",
            audio: "https://github.com/eguruOdisha/FRONT/raw/main/ospage1.mp3",
            mermaid: `graph LR

A[‡¨≤‡≠á‡¨ñ‡¨ï ‡¨Æ‡¨∏‡≠ç‡¨ï‡≠ã‡¨∞‡≠á ‡¨è‡¨ï‡¨æ ‡¨∞‡¨π‡≠Å‡¨•‡¨ø‡¨≤‡≠á] --> B[‡¨™‡¨∞‡¨ø‡¨¨‡¨æ‡¨∞ ‡¨™‡¨∞‡¨ø‡¨∏‡≠ç‡¨•‡¨ø‡¨§‡¨ø]

B --> B1[‡¨¨‡¨æ‡¨™‡¨æ‡¨Æ‡¨æ‡¨Ü‡¨ô‡≠ç‡¨ï ‡¨õ‡¨æ‡¨°‡¨™‡¨§‡≠ç‡¨∞]
B --> B2[‡¨¨‡¨æ‡¨™‡¨æ ‡¨ï‡¨æ‡¨ú‡¨æ‡¨ñ‡¨∏‡≠ç‡¨§‡¨æ‡¨®‡¨∞‡≠á]
B --> B3[‡¨¨‡¨æ‡¨™‡¨æ‡¨ô‡≠ç‡¨ï ‡¨®‡≠Ç‡¨§‡¨® ‡¨∏‡≠ç‡¨§‡≠ç‡¨∞‡≠Ä ‡¨ì ‡¨¶‡≠Å‡¨á ‡¨™‡¨ø‡¨≤‡¨æ]
B --> B4[‡¨¨‡¨æ‡¨™‡¨æ ‡¨ö‡¨ø‡¨†‡¨ø ‡¨™‡¨†‡¨æ‡¨â ‡¨®‡¨•‡¨ø‡¨≤‡≠á]
B --> B5[‡¨Æ‡¨æ‡¨Ü ‡¨Ø‡≠Å‡¨¶‡≠ç‡¨ß ‡¨∏‡¨Æ‡≠ç‡¨Æ‡≠Å‡¨ñ ‡¨≠‡¨æ‡¨ó‡¨∞‡≠á]
B --> B6[‡¨Æ‡¨æ‡¨Ü ‡¨∏‡≠à‡¨®‡¨ø‡¨ï‡¨ô‡≠ç‡¨ï ‡¨™‡¨æ‡¨á‡¨Å ‡¨ó‡≠Ä‡¨§ ‡¨ó‡¨æ‡¨â‡¨•‡¨ø‡¨≤‡≠á]

A --> C[‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨™‡¨ø‡¨≤‡¨æ‡¨¶‡¨ø‡¨®: ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨ú‡≠Ä‡¨¨‡¨®]

C --> C1[‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ‡¨∞‡≠á ‡¨¨‡¨¢‡¨º‡¨ø‡¨≤‡¨ø]
C --> C2[‡¨ñ‡¨∞‡¨æ‡¨™ ‡¨Ö‡¨≠‡≠ç‡≠ü‡¨æ‡¨∏ ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨≤‡¨ø]
C --> C3[‡¨≤‡¨¢‡¨º‡¨ø‡¨¨‡¨æ ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨≤‡¨ø]
C --> C4[‡¨≠‡≠ü ‡¨® ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ‡¨ï‡≠Å ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨≤‡¨ø]
C --> C5[‡¨∂‡¨ï‡≠ç‡¨§‡¨ø‡¨∂‡¨æ‡¨≥‡≠Ä‡¨ô‡≠ç‡¨ï‡≠Å ‡¨≠‡≠ü ‡¨® ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨≤‡¨ø]
`,

mcq: {
    questions: [
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï ‡¨ï‡≠á‡¨â‡¨Å ‡¨∏‡¨π‡¨∞‡¨∞‡≠á ‡¨è‡¨ï‡¨æ ‡¨∞‡¨π‡≠Å‡¨•‡¨ø‡¨≤‡≠á?",
            options: ["‡¨ï‡¨æ‡¨ú‡¨æ‡¨ñ‡¨∏‡≠ç‡¨§‡¨æ‡¨®", "‡¨Æ‡¨∏‡≠ç‡¨ï‡≠ã", "‡¨ï‡¨ø‡¨≠", "‡¨§‡¨æ‡¨∂‡¨ï‡≠á‡¨£‡≠ç‡¨ü"],
            correct: 1
        },
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨¨‡¨æ‡¨™‡¨æ ‡¨ï‡≠á‡¨â‡¨Å‡¨†‡¨ø ‡¨∞‡¨π‡≠Å‡¨•‡¨ø‡¨≤‡≠á?",
            options: ["‡¨Æ‡¨∏‡≠ç‡¨ï‡≠ã‡¨∞‡≠á", "‡¨ï‡¨æ‡¨ú‡¨æ‡¨ñ‡¨∏‡≠ç‡¨§‡¨æ‡¨®‡¨∞‡≠á", "‡¨ú‡¨∞‡≠ç‡¨Æ‡¨æ‡¨®‡≠Ä‡¨∞‡≠á", "‡¨ö‡¨ø‡¨†‡¨ø‡¨∞‡≠á ‡¨â‡¨≤‡≠ç‡¨≤‡≠á‡¨ñ ‡¨®‡¨æ‡¨π‡¨ø‡¨Å"],
            correct: 1
        },
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨Æ‡¨æ‡¨Ü ‡¨ï‡≠á‡¨â‡¨Å ‡¨ï‡¨æ‡¨Æ ‡¨ï‡¨∞‡≠Å‡¨•‡¨ø‡¨≤‡≠á?",
            options: ["‡¨ö‡¨æ‡¨∑ ‡¨ï‡¨∞‡≠Å‡¨•‡¨ø‡¨≤‡≠á", "‡¨Ö‡¨´‡¨ø‡¨∏‡¨∞‡≠á ‡¨ï‡¨æ‡¨Æ ‡¨ï‡¨∞‡≠Å‡¨•‡¨ø‡¨≤‡≠á", "‡¨Ø‡≠Å‡¨¶‡≠ç‡¨ß ‡¨∏‡¨Æ‡≠ç‡¨Æ‡≠Å‡¨ñ‡¨∞‡≠á ‡¨∏‡≠à‡¨®‡¨ø‡¨ï‡¨ô‡≠ç‡¨ï ‡¨™‡¨æ‡¨á‡¨Å ‡¨ó‡≠Ä‡¨§ ‡¨ó‡¨æ‡¨â‡¨•‡¨ø‡¨≤‡≠á", "‡¨ò‡¨∞‡≠á ‡¨•‡¨ø‡¨≤‡≠á"],
            correct: 2
        },
        {
            question: "‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï‡≠Å ‡¨ï‡¨£ ‡¨∂‡¨ø‡¨ñ‡¨æ‡¨á‡¨≤‡¨æ?",
            options: ["‡¨ö‡¨ø‡¨†‡¨ø ‡¨≤‡≠á‡¨ñ‡¨ø‡¨¨‡¨æ", "‡¨™‡¨¢‡¨ø‡¨¨‡¨æ", "‡¨ñ‡¨∞‡¨æ‡¨™ ‡¨Ö‡¨≠‡≠ç‡≠ü‡¨æ‡¨∏, ‡¨≤‡¨¢‡¨º‡¨ø‡¨¨‡¨æ ‡¨è‡¨¨‡¨Ç ‡¨≠‡≠ü ‡¨® ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ", "‡¨∏‡¨ô‡≠ç‡¨ó‡≠Ä‡¨§ ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨¨‡¨æ"],
            correct: 2
        },
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï ‡¨ï‡¨æ‡¨π‡¨æ‡¨†‡¨æ‡¨∞‡≠Å ‡¨∂‡¨ï‡≠ç‡¨§‡¨ø‡¨∂‡¨æ‡¨≥‡≠Ä ‡¨≤‡≠ã‡¨ï‡¨ô‡≠ç‡¨ï‡≠Å ‡¨°‡¨∞‡¨ø‡¨¨‡¨æ‡¨ï‡≠Å ‡¨® ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨≤‡≠á?",
            options: ["‡¨§‡¨æ‡¨ô‡≠ç‡¨ï ‡¨∂‡¨ø‡¨ï‡≠ç‡¨∑‡¨ï", "‡¨§‡¨æ‡¨ô‡≠ç‡¨ï ‡¨Æ‡¨æ‡¨Ü", "‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ", "‡¨§‡¨æ‡¨ô‡≠ç‡¨ï ‡¨¨‡¨æ‡¨™‡¨æ"],
            correct: 2
        }
    ]
},

            trueFalse: {
    questions: [
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï ‡¨Æ‡¨∏‡≠ç‡¨ï‡≠ã‡¨∞‡≠á ‡¨è‡¨ï‡¨æ ‡¨∞‡¨π‡≠Å‡¨•‡¨ø‡¨≤‡≠á‡•§",
            correct: true
        },
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨¨‡¨æ‡¨™‡¨æ‡¨Æ‡¨æ‡¨Ü‡¨ô‡≠ç‡¨ï ‡¨õ‡¨æ‡¨°‡¨™‡¨§‡≠ç‡¨∞ ‡¨π‡≠ã‡¨á‡¨®‡¨•‡¨ø‡¨≤‡¨æ‡•§",
            correct: false
        },
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨¨‡¨æ‡¨™‡¨æ ‡¨ï‡¨æ‡¨ú‡¨æ‡¨ñ‡¨∏‡≠ç‡¨§‡¨æ‡¨®‡¨∞‡≠á ‡¨•‡¨ø‡¨≤‡≠á‡•§",
            correct: true
        },
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨¨‡¨æ‡¨™‡¨æ ‡¨®‡¨ø‡≠ü‡¨Æ‡¨ø‡¨§ ‡¨≠‡¨æ‡¨¨‡¨∞‡≠á ‡¨ö‡¨ø‡¨†‡¨ø ‡¨™‡¨†‡¨æ‡¨â‡¨•‡¨ø‡¨≤‡≠á‡•§",
            correct: false
        },
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨Æ‡¨æ‡¨Ü ‡¨Ø‡≠Å‡¨¶‡≠ç‡¨ß ‡¨∏‡¨Æ‡≠ç‡¨Æ‡≠Å‡¨ñ ‡¨≠‡¨æ‡¨ó‡¨∞‡≠á ‡¨•‡¨ø‡¨≤‡≠á‡•§",
            correct: true
        },
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨Æ‡¨æ‡¨Ü ‡¨∏‡≠à‡¨®‡¨ø‡¨ï‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï ‡¨™‡¨æ‡¨á‡¨Å ‡¨ó‡≠Ä‡¨§ ‡¨ó‡¨æ‡¨â ‡¨®‡¨•‡¨ø‡¨≤‡≠á‡•§",
            correct: false
        },
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ‡¨∞‡≠á ‡¨¨‡¨¢‡¨º‡¨ø‡¨•‡¨ø‡¨≤‡≠á‡•§",
            correct: true
        },
        {
            question: "‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ï‡≠Å ‡¨ï‡≠á‡¨¨‡¨≥ ‡¨≠‡¨≤ ‡¨Ö‡¨≠‡≠ç‡≠ü‡¨æ‡¨∏ ‡¨∂‡¨ø‡¨ñ‡¨æ‡¨á‡¨≤‡¨æ‡•§",
            correct: false
        },
        {
            question: "‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ï‡≠Å ‡¨≤‡¨¢‡¨º‡¨ø‡¨¨‡¨æ ‡¨∂‡¨ø‡¨ñ‡¨æ‡¨á‡¨≤‡¨æ‡•§",
            correct: true
        },
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ‡¨∞‡≠Å ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨≤‡≠á ‡¨Ø‡≠á ‡¨∂‡¨ï‡≠ç‡¨§‡¨ø‡¨∂‡¨æ‡¨≥‡≠Ä ‡¨≤‡≠ã‡¨ï‡¨ô‡≠ç‡¨ï‡≠Å ‡¨°‡¨∞‡¨ø‡¨¨‡¨æ ‡¨â‡¨ö‡¨ø‡¨§‡•§",
            correct: false
        }
    ]
},

            fillBlanks: {
    questions: [
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï ___ ‡¨∞‡≠á ‡¨è‡¨ï‡¨æ ‡¨∞‡¨π‡≠Å‡¨•‡¨ø‡¨≤‡≠á‡•§",
            answer: "‡¨Æ‡¨∏‡≠ç‡¨ï‡≠ã"
        },
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨¨‡¨æ‡¨™‡¨æ‡¨Æ‡¨æ‡¨Ü‡¨ô‡≠ç‡¨ï ___ ‡¨π‡≠ã‡¨á‡¨•‡¨ø‡¨≤‡¨æ‡•§",
            answer: "‡¨õ‡¨æ‡¨°‡¨™‡¨§‡≠ç‡¨∞"
        },
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨¨‡¨æ‡¨™‡¨æ ___ ‡¨∞‡≠á ‡¨•‡¨ø‡¨≤‡≠á‡•§",
            answer: "‡¨ï‡¨æ‡¨ú‡¨æ‡¨ñ‡¨∏‡≠ç‡¨§‡¨æ‡¨®"
        },
        {
            question: "‡¨§‡¨æ‡¨ô‡≠ç‡¨ï‡¨∞ ‡¨è‡¨ï ‡¨®‡≠Ç‡¨§‡¨® ‡¨∏‡≠ç‡¨§‡≠ç‡¨∞‡≠Ä ‡¨è‡¨¨‡¨Ç ___ ‡¨™‡¨ø‡¨≤‡¨æ ‡¨•‡¨ø‡¨≤‡≠á‡•§",
            answer: "‡¨¶‡≠Å‡¨á‡¨ü‡¨ø"
        },
        {
            question: "‡¨∏‡≠á ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï‡≠Å ___ ‡¨™‡¨†‡¨æ‡¨â ‡¨®‡¨•‡¨ø‡¨≤‡≠á‡•§",
            answer: "‡¨ö‡¨ø‡¨†‡¨ø"
        },
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨Æ‡¨æ‡¨Ü ___ ‡¨∏‡¨Æ‡≠ç‡¨Æ‡≠Å‡¨ñ ‡¨≠‡¨æ‡¨ó‡¨∞‡≠á ‡¨•‡¨ø‡¨≤‡≠á‡•§",
            answer: "‡¨Ø‡≠Å‡¨¶‡≠ç‡¨ß"
        },
        {
            question: "‡¨∏‡≠á ‡¨∏‡≠à‡¨®‡¨ø‡¨ï‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï ‡¨™‡¨æ‡¨á‡¨Å ___ ‡¨ó‡¨æ‡¨á‡¨•‡¨ø‡¨≤‡≠á‡•§",
            answer: "‡¨ó‡≠Ä‡¨§"
        },
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï ___ ‡¨∞‡≠á ‡¨¨‡¨¢‡¨º‡¨ø‡¨•‡¨ø‡¨≤‡≠á‡•§",
            answer: "‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ"
        },
        {
            question: "‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï‡≠Å ___ ‡¨Ö‡¨≠‡≠ç‡≠ü‡¨æ‡¨∏ ‡¨∂‡¨ø‡¨ñ‡¨æ‡¨á‡¨≤‡¨æ‡•§",
            answer: "‡¨ñ‡¨∞‡¨æ‡¨™"
        },
        {
            question: "‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï‡≠Å ___ ‡¨∂‡¨ø‡¨ñ‡¨æ‡¨á‡¨≤‡¨æ‡•§",
            answer: "‡¨≤‡¨¢‡¨º‡¨ø‡¨¨‡¨æ"
        },
        {
            question: "‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï‡≠Å ‡¨ï‡¨æ‡¨π‡¨æ‡¨ï‡≠Å ___ ‡¨® ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ‡¨ï‡≠Å ‡¨∂‡¨ø‡¨ñ‡¨æ‡¨á‡¨≤‡¨æ‡•§",
            answer: "‡¨≠‡≠ü"
        },
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï ___ ‡¨≤‡≠ã‡¨ï‡¨ô‡≠ç‡¨ï‡≠Å ‡¨® ‡¨°‡¨∞‡¨ø‡¨¨‡¨æ ‡¨â‡¨ö‡¨ø‡¨§ ‡¨¨‡≠ã‡¨≤‡¨ø ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨ó‡¨≤‡≠á‡•§",
            answer: "‡¨∂‡¨ï‡≠ç‡¨§‡¨ø‡¨∂‡¨æ‡¨≥‡≠Ä"
        }
    ]
},

          matching: {
    pairs: [
        { left: "‡¨Æ‡¨∏‡≠ç‡¨ï‡≠ã", right: "‡¨≤‡≠á‡¨ñ‡¨ï ‡¨Ø‡≠á‡¨â‡¨Å‡¨†‡¨æ‡¨∞‡≠á ‡¨è‡¨ï‡¨æ ‡¨∞‡¨π‡≠Å‡¨•‡¨ø‡¨≤‡≠á" },
        { left: "‡¨¨‡¨æ‡¨™‡¨æ", right: "‡¨ï‡¨æ‡¨ú‡¨æ‡¨ñ‡¨∏‡≠ç‡¨§‡¨æ‡¨®‡¨∞‡≠á ‡¨®‡≠Ç‡¨§‡¨® ‡¨™‡¨∞‡¨ø‡¨¨‡¨æ‡¨∞ ‡¨∏‡¨π‡¨ø‡¨§ ‡¨•‡¨ø‡¨≤‡≠á" },
        { left: "‡¨Æ‡¨æ‡¨Ü", right: "‡¨Ø‡≠Å‡¨¶‡≠ç‡¨ß ‡¨∏‡¨Æ‡≠ç‡¨Æ‡≠Å‡¨ñ ‡¨≠‡¨æ‡¨ó‡¨∞‡≠á ‡¨∏‡≠à‡¨®‡¨ø‡¨ï‡¨ô‡≠ç‡¨ï ‡¨™‡¨æ‡¨á‡¨Å ‡¨ó‡≠Ä‡¨§ ‡¨ó‡¨æ‡¨â‡¨•‡¨ø‡¨≤‡≠á" },
        { left: "‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ", right: "‡¨ñ‡¨∞‡¨æ‡¨™ ‡¨Ö‡¨≠‡≠ç‡≠ü‡¨æ‡¨∏, ‡¨≤‡¨¢‡¨º‡¨ø‡¨¨‡¨æ ‡¨ì ‡¨≠‡≠ü ‡¨® ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨∂‡¨ø‡¨ñ‡¨æ‡¨á‡¨≤‡¨æ" },
        { left: "‡¨∂‡¨ï‡≠ç‡¨§‡¨ø‡¨∂‡¨æ‡¨≥‡≠Ä ‡¨≤‡≠ã‡¨ï", right: "‡¨Ø‡≠á‡¨â‡¨Å‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï‡≠Å ‡¨°‡¨∞‡¨ø‡¨¨‡¨æ ‡¨â‡¨ö‡¨ø‡¨§ ‡¨®‡≠Å‡¨π‡≠á‡¨Å ‡¨¨‡≠ã‡¨≤‡¨ø ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨•‡¨ø‡¨≤‡≠á" }
    ]
},

arrange: {
    questions: [
        {
            words: ["‡¨≤‡≠á‡¨ñ‡¨ï", "‡¨Æ‡¨∏‡≠ç‡¨ï‡≠ã‡¨∞‡≠á", "‡¨è‡¨ï‡¨æ", "‡¨∞‡¨π‡≠Å‡¨•‡¨ø‡¨≤‡≠á"],
            correct: "‡¨≤‡≠á‡¨ñ‡¨ï ‡¨Æ‡¨∏‡≠ç‡¨ï‡≠ã‡¨∞‡≠á ‡¨è‡¨ï‡¨æ ‡¨∞‡¨π‡≠Å‡¨•‡¨ø‡¨≤‡≠á"
        },
        {
            words: ["‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï", "‡¨¨‡¨æ‡¨™‡¨æ‡¨Æ‡¨æ‡¨Ü‡¨ô‡≠ç‡¨ï", "‡¨õ‡¨æ‡¨°‡¨™‡¨§‡≠ç‡¨∞", "‡¨π‡≠ã‡¨á‡¨•‡¨ø‡¨≤‡¨æ"],
            correct: "‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨¨‡¨æ‡¨™‡¨æ‡¨Æ‡¨æ‡¨Ü‡¨ô‡≠ç‡¨ï ‡¨õ‡¨æ‡¨°‡¨™‡¨§‡≠ç‡¨∞ ‡¨π‡≠ã‡¨á‡¨•‡¨ø‡¨≤‡¨æ"
        },
        {
            words: ["‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï", "‡¨¨‡¨æ‡¨™‡¨æ", "‡¨ï‡¨æ‡¨ú‡¨æ‡¨ñ‡¨∏‡≠ç‡¨§‡¨æ‡¨®‡¨∞‡≠á", "‡¨•‡¨ø‡¨≤‡≠á"],
            correct: "‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨¨‡¨æ‡¨™‡¨æ ‡¨ï‡¨æ‡¨ú‡¨æ‡¨ñ‡¨∏‡≠ç‡¨§‡¨æ‡¨®‡¨∞‡≠á ‡¨•‡¨ø‡¨≤‡≠á"
        },
        {
            words: ["‡¨§‡¨æ‡¨ô‡≠ç‡¨ï‡¨∞", "‡¨®‡≠Ç‡¨§‡¨®", "‡¨∏‡≠ç‡¨§‡≠ç‡¨∞‡≠Ä", "‡¨•‡¨ø‡¨≤‡≠á"],
            correct: "‡¨§‡¨æ‡¨ô‡≠ç‡¨ï‡¨∞ ‡¨®‡≠Ç‡¨§‡¨® ‡¨∏‡≠ç‡¨§‡≠ç‡¨∞‡≠Ä ‡¨•‡¨ø‡¨≤‡≠á"
        },
        {
            words: ["‡¨§‡¨æ‡¨ô‡≠ç‡¨ï‡¨∞", "‡¨¶‡≠Å‡¨á‡¨ü‡¨ø", "‡¨™‡¨ø‡¨≤‡¨æ", "‡¨•‡¨ø‡¨≤‡≠á"],
            correct: "‡¨§‡¨æ‡¨ô‡≠ç‡¨ï‡¨∞ ‡¨¶‡≠Å‡¨á‡¨ü‡¨ø ‡¨™‡¨ø‡¨≤‡¨æ ‡¨•‡¨ø‡¨≤‡≠á"
        }
    ]
},

          stq: {
    questions: [
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï ‡¨ï‡≠á‡¨â‡¨Å ‡¨∏‡¨π‡¨∞‡¨∞‡≠á ‡¨è‡¨ï‡¨æ ‡¨∞‡¨π‡≠Å‡¨•‡¨ø‡¨≤‡≠á?",
            answer: "‡¨≤‡≠á‡¨ñ‡¨ï ‡¨Æ‡¨∏‡≠ç‡¨ï‡≠ã‡¨∞‡≠á ‡¨è‡¨ï‡¨æ ‡¨∞‡¨π‡≠Å‡¨•‡¨ø‡¨≤‡≠á‡•§"
        },
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨¨‡¨æ‡¨™‡¨æ ‡¨ï‡≠á‡¨â‡¨Å ‡¨¶‡≠á‡¨∂‡¨∞‡≠á ‡¨•‡¨ø‡¨≤‡≠á?",
            answer: "‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨¨‡¨æ‡¨™‡¨æ ‡¨ï‡¨æ‡¨ú‡¨æ‡¨ñ‡¨∏‡≠ç‡¨§‡¨æ‡¨®‡¨∞‡≠á ‡¨•‡¨ø‡¨≤‡≠á‡•§"
        },
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨Æ‡¨æ‡¨Ü ‡¨ï‡≠á‡¨â‡¨Å‡¨†‡¨ø ‡¨ï‡¨æ‡¨Æ ‡¨ï‡¨∞‡≠Å‡¨•‡¨ø‡¨≤‡≠á?",
            answer: "‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨Æ‡¨æ‡¨Ü ‡¨Ø‡≠Å‡¨¶‡≠ç‡¨ß ‡¨∏‡¨Æ‡≠ç‡¨Æ‡≠Å‡¨ñ ‡¨≠‡¨æ‡¨ó‡¨∞‡≠á ‡¨∏‡≠à‡¨®‡¨ø‡¨ï‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï ‡¨™‡¨æ‡¨á‡¨Å ‡¨ó‡≠Ä‡¨§ ‡¨ó‡¨æ‡¨â‡¨•‡¨ø‡¨≤‡≠á‡•§"
        },
        {
            question: "‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï‡≠Å ‡¨ï‡¨£ ‡¨∂‡¨ø‡¨ñ‡¨æ‡¨á‡¨≤‡¨æ?",
            answer: "‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï‡≠Å ‡¨ñ‡¨∞‡¨æ‡¨™ ‡¨Ö‡¨≠‡≠ç‡≠ü‡¨æ‡¨∏, ‡¨≤‡¨¢‡¨º‡¨ø‡¨¨‡¨æ ‡¨è‡¨¨‡¨Ç ‡¨ï‡¨æ‡¨π‡¨æ‡¨ï‡≠Å ‡¨≠‡≠ü ‡¨® ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨∂‡¨ø‡¨ñ‡¨æ‡¨á‡¨≤‡¨æ‡•§"
        },
        {
            question: "‡¨≤‡≠á‡¨ñ‡¨ï ‡¨∂‡¨ï‡≠ç‡¨§‡¨ø‡¨∂‡¨æ‡¨≥‡≠Ä ‡¨≤‡≠ã‡¨ï‡¨ô‡≠ç‡¨ï‡≠Å ‡¨ï‡¨æ‡¨π‡¨ø‡¨Å‡¨ï‡¨ø ‡¨°‡¨∞‡≠Å‡¨®‡¨•‡¨ø‡¨≤‡≠á?",
            answer: "‡¨ï‡¨æ‡¨∞‡¨£ ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ‡¨∞‡≠á ‡¨∞‡¨π‡¨ø ‡¨∞‡¨π‡¨ø ‡¨≤‡≠á‡¨ñ‡¨ï ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨•‡¨ø‡¨≤‡≠á ‡¨Ø‡≠á ‡¨∂‡¨ï‡≠ç‡¨§‡¨ø‡¨∂‡¨æ‡¨≥‡≠Ä ‡¨≤‡≠ã‡¨ï‡¨ô‡≠ç‡¨ï‡≠Å ‡¨°‡¨∞‡¨ø‡¨¨‡¨æ ‡¨â‡¨ö‡¨ø‡¨§ ‡¨®‡≠Å‡¨π‡≠á‡¨Å‡•§"
        }
    ]
}
},

           {
                 text: `üëâ Divorce ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨õ‡¨æ‡¨°‡¨™‡¨§‡≠ç‡¨∞ ‡¨π‡≠á‡¨¨‡¨æ ‡•§ Divorced ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨õ‡¨æ‡¨°‡¨™‡¨§‡≠ç‡¨∞ ‡¨π‡≠ã‡¨á‡¨∏‡¨æ‡¨∞‡¨ø‡¨õ‡¨ø ‡•§ ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨¨‡¨æ‡¨™‡¨æ ‡¨è‡¨¨‡¨Ç ‡¨Æ‡¨æ‡¨Ü‡¨ô‡≠ç‡¨ï‡¨∞ ‡¨õ‡¨æ‡¨°‡¨™‡¨§‡≠ç‡¨∞ ‡¨π‡≠ã‡¨á‡¨∏‡¨æ‡¨∞‡¨ø‡¨õ‡¨ø ‡•§ <br>
üëâ Kazakhstan ‡¨π‡≠á‡¨â‡¨õ‡¨ø ‡¨è‡¨ï ‡¨¶‡≠á‡¨∂‡¨∞ ‡¨®‡¨æ‡¨Æ ‡•§ ‡¨è‡¨π‡¨æ ‡¨∞‡≠Å‡¨∑ ‡¨®‡¨ø‡¨ï‡¨ü‡¨∞‡≠á ‡¨Ö‡¨¨‡¨∏‡≠ç‡¨•‡¨ø‡¨§ ‡•§ ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨¨‡¨æ‡¨™‡¨æ ‡¨è‡¨†‡¨æ‡¨∞‡≠á ‡¨∞‡¨π‡≠Å‡¨•‡¨ø‡¨≤‡≠á ‡•§ <br>
üëâ Seldom ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ï‡¨¶‡¨æ‡¨ö‡¨ø‡¨§‡≠ç ‡•§ Seldom ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨¨‡¨π‡≠Å‡¨§ ‡¨ï‡¨Æ‡≠ç ‡¨∏‡¨Æ‡≠ü‡¨∞‡≠á ‡•§ ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨¨‡¨æ‡¨™‡¨æ ‡¨ï‡¨¶‡¨æ‡¨ö‡¨ø‡¨§‡≠ç ‡¨ö‡¨ø‡¨†‡¨ø ‡¨™‡¨†‡¨æ‡¨â‡¨•‡¨ø‡¨≤‡≠á ‡•§ <br>
üëâ Front ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨Ø‡≠Å‡¨¶‡≠ç‡¨ß ‡¨∏‡≠ç‡¨•‡¨≥ ‡•§ Front ‡¨Ø‡≠á‡¨â‡¨Å‡¨†‡¨ø ‡¨∏‡≠à‡¨®‡¨ø‡¨ï‡¨Æ‡¨æ‡¨®‡≠á ‡¨≤‡¨¢‡¨º‡¨®‡≠ç‡¨§‡¨ø ‡•§ ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨Æ‡¨æ‡¨Ü Front ‡¨ï‡≠Å ‡¨Ø‡¨æ‡¨á‡¨•‡¨ø‡¨≤‡≠á ‡•§ <br>
üëâ Geologist ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨≠‡≠Ç‡¨¨‡¨ø‡¨ú‡≠ç‡¨û‡¨æ‡¨®‡≠Ä ‡•§ Geologist ‡¨Æ‡¨æ‡¨ü‡¨ø ‡¨è‡¨¨‡¨Ç ‡¨™‡¨•‡¨∞ ‡¨Ö‡¨ß‡≠ç‡≠ü‡≠ü‡¨® ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡¨ø ‡•§ ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨Æ‡¨æ‡¨Ü ‡¨™‡≠Ç‡¨∞‡≠ç‡¨¨‡¨∞‡≠Å Geologist ‡¨•‡¨ø‡¨≤‡≠á ‡•§ <br>
üëâ Concerts ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨∏‡¨ô‡≠ç‡¨ó‡≠Ä‡¨§ ‡¨Ö‡¨®‡≠Å‡¨∑‡≠ç‡¨†‡¨æ‡¨® ‡•§ Concerts ‡¨∞‡≠á ‡¨ó‡¨æ‡≠ü‡¨ï ‡¨ó‡≠Ä‡¨§ ‡¨ó‡¨æ‡¨®‡≠ç‡¨§‡¨ø ‡•§ ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨Æ‡¨æ‡¨Ü Concerts ‡¨¶‡≠á‡¨â‡¨•‡¨ø‡¨≤‡≠á ‡•§ <br>
üëâ Troops ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨∏‡≠à‡¨®‡¨ø‡¨ï ‡¨¶‡¨≥ ‡•§ Troops ‡¨Ö‡¨®‡≠á‡¨ï ‡¨∏‡≠à‡¨®‡¨ø‡¨ï ‡¨è‡¨ï‡¨æ‡¨†‡¨ø ‡•§ ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨Æ‡¨æ‡¨Ü Troops ‡¨™‡¨æ‡¨á‡¨Å ‡¨ó‡≠Ä‡¨§ ‡¨ó‡¨æ‡¨â‡¨•‡¨ø‡¨≤‡≠á ‡•§ <br>
üëâ Education ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨∂‡¨ø‡¨ï‡≠ç‡¨∑‡¨æ ‡•§ Education ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ï‡¨ø‡¨õ‡¨ø ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨¨‡¨æ ‡•§ ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï Education ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ‡¨∞‡≠á ‡¨π‡≠ã‡¨á‡¨•‡¨ø‡¨≤‡¨æ ‡•§ <br>
üëâ Swear ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ó‡¨æ‡¨≥‡¨ø ‡¨¶‡≠á‡¨¨‡¨æ ‡•§ Swear ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ñ‡¨∞‡¨æ‡¨™ ‡¨∂‡¨¨‡≠ç‡¨¶ ‡¨ï‡¨π‡¨ø‡¨¨‡¨æ ‡•§ ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï‡≠Å Swear ‡¨∂‡¨ø‡¨ñ‡¨æ‡¨á‡¨•‡¨ø‡¨≤‡¨æ ‡•§ <br>
üëâ Fists ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨Æ‡≠Å‡¨†‡¨ø ‡•§ Fists ‡¨¨‡¨®‡≠ç‡¨¶ ‡¨π‡¨æ‡¨§ ‡•§ ‡¨≤‡≠á‡¨ñ‡¨ï Fists ‡¨™‡≠ç‡¨∞‡¨∏‡≠ç‡¨§‡≠Å‡¨§ ‡¨∞‡¨ñ‡≠Å‡¨•‡¨ø‡¨≤‡≠á ‡•§`,
        
        audio: "https://github.com/eguruOdisha/FRONT/raw/main/difficultwords.mp3",
        
        mermaid: `graph LR

A[Difficult Words] --> B[Divorced]
A --> C[Kazakhstan]
A --> D[Seldom]
A --> E[Front]
A --> F[Geologist]
A --> G[Concerts]
A --> H[Troops]
A --> I[Education]
A --> J[Swear]
A --> K[Fists]

B --> B1[‡¨õ‡¨æ‡¨°‡¨™‡¨§‡≠ç‡¨∞]
C --> C1[‡¨¶‡≠á‡¨∂‡¨∞ ‡¨®‡¨æ‡¨Æ]
D --> D1[‡¨ï‡¨¶‡¨æ‡¨ö‡¨ø‡¨§‡≠ç]
E --> E1[‡¨Ø‡≠Å‡¨¶‡≠ç‡¨ß ‡¨∏‡≠ç‡¨•‡¨≥]
F --> F1[‡¨≠‡≠Ç‡¨¨‡¨ø‡¨ú‡≠ç‡¨û‡¨æ‡¨®‡≠Ä]
G --> G1[‡¨∏‡¨ô‡≠ç‡¨ó‡≠Ä‡¨§ ‡¨Ö‡¨®‡≠Å‡¨∑‡≠ç‡¨†‡¨æ‡¨®]
H --> H1[‡¨∏‡≠à‡¨®‡¨ø‡¨ï ‡¨¶‡¨≥]
I --> I1[‡¨∂‡¨ø‡¨ï‡≠ç‡¨∑‡¨æ]
J --> J1[‡¨ó‡¨æ‡¨≥‡¨ø]
K --> K1[‡¨Æ‡≠Å‡¨†‡¨ø]`,

        mcq: {
            questions: [
                {
                    question: "Divorced ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ï‡¨£?",
                    options: ["‡¨¨‡¨æ‡¨™‡¨æ ‡¨Æ‡¨æ‡¨Ü ‡¨è‡¨ï‡¨æ‡¨†‡¨ø", "‡¨¨‡¨æ‡¨™‡¨æ ‡¨Æ‡¨æ‡¨Ü ‡¨Ö‡¨≤‡¨ó‡¨æ", "‡¨¨‡¨æ‡¨™‡¨æ ‡¨Æ‡¨æ‡¨Ü ‡¨ñ‡≠Å‡¨∏‡¨ø", "‡¨¨‡¨æ‡¨™‡¨æ ‡¨Æ‡¨æ‡¨Ü ‡¨∞‡¨æ‡¨ó‡¨ø‡¨≤‡≠á"],
                    correct: 1
                },
                {
                    question: "Kazakhstan ‡¨ï‡¨£?",
                    options: ["‡¨∏‡¨π‡¨∞‡¨∞ ‡¨®‡¨æ‡¨Æ", "‡¨¶‡≠á‡¨∂‡¨∞ ‡¨®‡¨æ‡¨Æ", "‡¨®‡¨¶‡≠Ä‡¨∞ ‡¨®‡¨æ‡¨Æ", "‡¨™‡¨æ‡¨π‡¨æ‡¨°‡¨º‡¨∞ ‡¨®‡¨æ‡¨Æ"],
                    correct: 1
                },
                {
                    question: "Seldom ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ï‡¨£?",
                    options: ["‡¨∏‡¨¨‡≠Å‡¨¨‡≠á‡¨≥‡≠á", "‡¨ï‡¨¶‡¨æ‡¨ö‡¨ø‡¨§‡≠ç", "‡¨™‡≠ç‡¨∞‡¨§‡¨ø‡¨¶‡¨ø‡¨®", "‡¨∏‡¨™‡≠ç‡¨§‡¨æ‡¨π‡¨ï‡≠Å"],
                    correct: 1
                },
                {
                    question: "Geologist ‡¨ï‡¨£ ‡¨Ö‡¨ß‡≠ç‡≠ü‡≠ü‡¨® ‡¨ï‡¨∞‡≠á?",
                    options: ["‡¨™‡¨∂‡≠Å", "‡¨Æ‡¨æ‡¨ü‡¨ø ‡¨™‡¨•‡¨∞", "‡¨§‡¨æ‡¨∞‡¨æ", "‡¨ó‡¨õ"],
                    correct: 1
                },
                {
                    question: "Concerts ‡¨ï‡¨£?",
                    options: ["‡¨ñ‡¨æ‡¨¶‡≠ç‡≠ü ‡¨Ö‡¨®‡≠Å‡¨∑‡≠ç‡¨†‡¨æ‡¨®", "‡¨∏‡¨ô‡≠ç‡¨ó‡≠Ä‡¨§ ‡¨Ö‡¨®‡≠Å‡¨∑‡≠ç‡¨†‡¨æ‡¨®", "‡¨®‡¨æ‡¨ö ‡¨Ö‡¨®‡≠Å‡¨∑‡≠ç‡¨†‡¨æ‡¨®", "‡¨ñ‡≠á‡¨≥ ‡¨Ö‡¨®‡≠Å‡¨∑‡≠ç‡¨†‡¨æ‡¨®"],
                    correct: 1
                },
                {
                    question: "Troops ‡¨ï‡¨£?",
                    options: ["‡¨∂‡¨ø‡¨ï‡≠ç‡¨∑‡¨ï ‡¨¶‡¨≥", "‡¨∏‡≠à‡¨®‡¨ø‡¨ï ‡¨¶‡¨≥", "‡¨õ‡¨æ‡¨§‡≠ç‡¨∞ ‡¨¶‡¨≥", "‡¨∂‡≠ç‡¨∞‡¨Æ‡¨ø‡¨ï ‡¨¶‡¨≥"],
                    correct: 1
                },
                {
                    question: "Education ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ï‡¨£?",
                    options: ["‡¨ñ‡≠á‡¨≥‡¨ø‡¨¨‡¨æ", "‡¨∂‡¨ø‡¨ñ‡¨ø‡¨¨‡¨æ", "‡¨∂‡≠ã‡¨á‡¨¨‡¨æ", "‡¨ñ‡¨æ‡¨á‡¨¨‡¨æ"],
                    correct: 1
                },
                {
                    question: "Swear ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ï‡¨£?",
                    options: ["‡¨≠‡¨≤ ‡¨∂‡¨¨‡≠ç‡¨¶", "‡¨ó‡¨æ‡¨≥‡¨ø", "‡¨Æ‡¨ø‡¨†‡¨æ ‡¨∂‡¨¨‡≠ç‡¨¶", "‡¨¶‡≠ü‡¨æ‡¨≥‡≠Å ‡¨∂‡¨¨‡≠ç‡¨¶"],
                    correct: 1
                },
                {
                    question: "Fists ‡¨ï‡¨£?",
                    options: ["‡¨ñ‡≠ã‡¨≤‡¨æ ‡¨π‡¨æ‡¨§", "‡¨¨‡¨®‡≠ç‡¨¶ ‡¨π‡¨æ‡¨§", "‡¨¨‡¨° ‡¨π‡¨æ‡¨§", "‡¨õ‡≠ã‡¨ü ‡¨π‡¨æ‡¨§"],
                    correct: 1
                }
            ]
        },

        trueFalse: {
            questions: [
                {
                    question: "Divorce ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨õ‡¨æ‡¨°‡¨™‡¨§‡≠ç‡¨∞ ‡•§",
                    correct: true
                },
                {
                    question: "Divorced ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨è‡¨ï‡¨æ‡¨†‡¨ø ‡¨∞‡¨π‡¨ø‡¨¨‡¨æ ‡•§",
                    correct: false
                },
                {
                    question: "Kazakhstan ‡¨π‡≠á‡¨â‡¨õ‡¨ø ‡¨¶‡≠á‡¨∂‡¨∞ ‡¨®‡¨æ‡¨Æ ‡•§",
                    correct: true
                },
                {
                    question: "Kazakhstan ‡¨π‡≠á‡¨â‡¨õ‡¨ø ‡¨∏‡¨π‡¨∞‡¨∞ ‡¨®‡¨æ‡¨Æ ‡•§",
                    correct: false
                },
                {
                    question: "Seldom ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ï‡¨¶‡¨æ‡¨ö‡¨ø‡¨§‡≠ç ‡•§",
                    correct: true
                },
                {
                    question: "Seldom ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨∏‡¨¨‡≠Å‡¨¨‡≠á‡¨≥‡≠á ‡•§",
                    correct: false
                },
                {
                    question: "Front ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨Ø‡≠Å‡¨¶‡≠ç‡¨ß ‡¨∏‡≠ç‡¨•‡¨≥ ‡•§",
                    correct: true
                },
                {
                    question: "Front ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨¨‡¨ú‡¨æ‡¨∞ ‡¨∏‡≠ç‡¨•‡¨≥ ‡•§",
                    correct: false
                },
                {
                    question: "Geologist ‡¨Æ‡¨æ‡¨ü‡¨ø ‡¨™‡¨•‡¨∞ ‡¨Ö‡¨ß‡≠ç‡≠ü‡≠ü‡¨® ‡¨ï‡¨∞‡≠á ‡•§",
                    correct: true
                },
                {
                    question: "Geologist ‡¨§‡¨æ‡¨∞‡¨æ ‡¨Ö‡¨ß‡≠ç‡≠ü‡≠ü‡¨® ‡¨ï‡¨∞‡≠á ‡•§",
                    correct: false
                },
                {
                    question: "Concerts ‡¨π‡≠á‡¨â‡¨õ‡¨ø ‡¨∏‡¨ô‡≠ç‡¨ó‡≠Ä‡¨§ ‡¨Ö‡¨®‡≠Å‡¨∑‡≠ç‡¨†‡¨æ‡¨® ‡•§",
                    correct: true
                },
                {
                    question: "Concerts ‡¨π‡≠á‡¨â‡¨õ‡¨ø ‡¨ñ‡¨æ‡¨¶‡≠ç‡≠ü ‡¨Ö‡¨®‡≠Å‡¨∑‡≠ç‡¨†‡¨æ‡¨® ‡•§",
                    correct: false
                },
                {
                    question: "Troops ‡¨π‡≠á‡¨â‡¨õ‡¨ø ‡¨∏‡≠à‡¨®‡¨ø‡¨ï ‡¨¶‡¨≥ ‡•§",
                    correct: true
                },
                {
                    question: "Troops ‡¨π‡≠á‡¨â‡¨õ‡¨ø ‡¨∂‡¨ø‡¨ï‡≠ç‡¨∑‡¨ï ‡¨¶‡¨≥ ‡•§",
                    correct: false
                },
                {
                    question: "Education ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨¨‡¨æ ‡•§",
                    correct: true
                },
                {
                    question: "Education ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ï‡≠á‡¨¨‡¨≥ ‡¨ñ‡≠á‡¨≥‡¨ø‡¨¨‡¨æ ‡•§",
                    correct: false
                },
                {
                    question: "Swear ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ó‡¨æ‡¨≥‡¨ø ‡•§",
                    correct: true
                },
                {
                    question: "Swear ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨≠‡¨≤ ‡¨∂‡¨¨‡≠ç‡¨¶ ‡•§",
                    correct: false
                },
                {
                    question: "Fists ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨¨‡¨®‡≠ç‡¨¶ ‡¨π‡¨æ‡¨§ ‡•§",
                    correct: true
                },
                {
                    question: "Fists ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ñ‡≠ã‡¨≤‡¨æ ‡¨π‡¨æ‡¨§ ‡•§",
                    correct: false
                }
            ]
        },

        fillBlanks: {
            questions: [
                {
                    question: "___ ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨õ‡¨æ‡¨°‡¨™‡¨§‡≠ç‡¨∞ ‡•§",
                    answer: "Divorce"
                },
                {
                    question: "___ ‡¨π‡≠á‡¨â‡¨õ‡¨ø ‡¨¶‡≠á‡¨∂‡¨∞ ‡¨®‡¨æ‡¨Æ ‡•§",
                    answer: "Kazakhstan"
                },
                {
                    question: "___ ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ï‡¨¶‡¨æ‡¨ö‡¨ø‡¨§‡≠ç ‡•§",
                    answer: "Seldom"
                },
                {
                    question: "___ ‡¨Æ‡¨æ‡¨ü‡¨ø ‡¨™‡¨•‡¨∞ ‡¨Ö‡¨ß‡≠ç‡≠ü‡≠ü‡¨® ‡¨ï‡¨∞‡≠á ‡•§",
                    answer: "Geologist"
                },
                {
                    question: "___ ‡¨π‡≠á‡¨â‡¨õ‡¨ø ‡¨∏‡¨ô‡≠ç‡¨ó‡≠Ä‡¨§ ‡¨Ö‡¨®‡≠Å‡¨∑‡≠ç‡¨†‡¨æ‡¨® ‡•§",
                    answer: "Concerts"
                },
                {
                    question: "___ ‡¨π‡≠á‡¨â‡¨õ‡¨ø ‡¨∏‡≠à‡¨®‡¨ø‡¨ï ‡¨¶‡¨≥ ‡•§",
                    answer: "Troops"
                },
                {
                    question: "___ ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨¨‡¨æ ‡•§",
                    answer: "Education"
                },
                {
                    question: "___ ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ó‡¨æ‡¨≥‡¨ø ‡•§",
                    answer: "Swear"
                },
                {
                    question: "___ ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨¨‡¨®‡≠ç‡¨¶ ‡¨π‡¨æ‡¨§ ‡•§",
                    answer: "Fists"
                }
            ]
        },

        matching: {
            pairs: [
                { left: "Divorced", right: "‡¨õ‡¨æ‡¨°‡¨™‡¨§‡≠ç‡¨∞" },
                { left: "Kazakhstan", right: "‡¨¶‡≠á‡¨∂‡¨∞ ‡¨®‡¨æ‡¨Æ" },
                { left: "Seldom", right: "‡¨ï‡¨¶‡¨æ‡¨ö‡¨ø‡¨§‡≠ç" },
                { left: "Front", right: "‡¨Ø‡≠Å‡¨¶‡≠ç‡¨ß ‡¨∏‡≠ç‡¨•‡¨≥" },
                { left: "Geologist", right: "‡¨≠‡≠Ç‡¨¨‡¨ø‡¨ú‡≠ç‡¨û‡¨æ‡¨®‡≠Ä" },
                { left: "Concerts", right: "‡¨∏‡¨ô‡≠ç‡¨ó‡≠Ä‡¨§ ‡¨Ö‡¨®‡≠Å‡¨∑‡≠ç‡¨†‡¨æ‡¨®" },
                { left: "Troops", right: "‡¨∏‡≠à‡¨®‡¨ø‡¨ï ‡¨¶‡¨≥" },
                { left: "Education", right: "‡¨∂‡¨ø‡¨ï‡≠ç‡¨∑‡¨æ" },
                { left: "Swear", right: "‡¨ó‡¨æ‡¨≥‡¨ø" },
                { left: "Fists", right: "‡¨Æ‡≠Å‡¨†‡¨ø" }
            ]
        },

      arrange: {
    questions: [
        {
            words: ["divorced", "are", "Parents"],
            correct: "Parents are divorced"
        },
        {
            words: ["Kazakhstan", "in", "lives", "Father"],
            correct: "Father lives in Kazakhstan"
        },
        {
            words: ["letters", "writes", "Father", "seldom"],
            correct: "Father seldom writes letters"
        },
        {
            words: ["front", "to", "went", "Mother"],
            correct: "Mother went to front"
        },
        {
            words: ["geologist", "a", "was", "Mother"],
            correct: "Mother was a geologist"
        },
        {
            words: ["concerts", "gave", "Mother"],
            correct: "Mother gave concerts"
        },
        {
            words: ["troops", "for", "sang", "Mother"],
            correct: "Mother sang for troops"
        },
        {
            words: ["education", "street", "got", "Author"],
            correct: "Author got street education"
        },
        {
            words: ["swear", "to", "learned", "Author"],
            correct: "Author learned to swear"
        },
        {
            words: ["ready", "fists", "kept", "Author"],
            correct: "Author kept fists ready"
        }
    ]
},

        stq: {
            questions: [
                {
                    question: "Divorce ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ï‡¨£?",
                    answer: "Divorced ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨õ‡¨æ‡¨°‡¨™‡¨§‡≠ç‡¨∞ ‡•§"
                },
                {
                    question: "Kazakhstan ‡¨ï‡¨£?",
                    answer: "Kazakhstan ‡¨π‡≠á‡¨â‡¨õ‡¨ø ‡¨¶‡≠á‡¨∂‡¨∞ ‡¨®‡¨æ‡¨Æ ‡•§"
                },
                {
                    question: "Seldom ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ï‡¨£?",
                    answer: "Seldom ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ï‡¨¶‡¨æ‡¨ö‡¨ø‡¨§‡≠ç ‡•§"
                },
                {
                    question: "Front ‡¨ï‡¨£?",
                    answer: "Front ‡¨π‡≠á‡¨â‡¨õ‡¨ø ‡¨Ø‡≠Å‡¨¶‡≠ç‡¨ß ‡¨∏‡≠ç‡¨•‡¨≥ ‡•§"
                },
                {
                    question: "Geologist ‡¨ï‡¨£ ‡¨ï‡¨∞‡≠á?",
                    answer: "Geologist ‡¨Æ‡¨æ‡¨ü‡¨ø ‡¨™‡¨•‡¨∞ ‡¨Ö‡¨ß‡≠ç‡≠ü‡≠ü‡¨® ‡¨ï‡¨∞‡≠á ‡•§"
                },
                {
                    question: "Concerts ‡¨ï‡¨£?",
                    answer: "Concerts ‡¨π‡≠á‡¨â‡¨õ‡¨ø ‡¨∏‡¨ô‡≠ç‡¨ó‡≠Ä‡¨§ ‡¨Ö‡¨®‡≠Å‡¨∑‡≠ç‡¨†‡¨æ‡¨® ‡•§"
                },
                {
                    question: "Troops ‡¨ï‡¨£?",
                    answer: "Troops ‡¨π‡≠á‡¨â‡¨õ‡¨ø ‡¨∏‡≠à‡¨®‡¨ø‡¨ï ‡¨¶‡¨≥ ‡•§"
                },
                {
                    question: "Education ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ï‡¨£?",
                    answer: "Education ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨¨‡¨æ ‡•§"
                },
                {
                    question: "Swear ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ï‡¨£?",
                    answer: "Swear ‡¨∞ ‡¨Ö‡¨∞‡≠ç‡¨• ‡¨ó‡¨æ‡¨≥‡¨ø ‡•§"
                },
                {
                    question: "Fists ‡¨ï‡¨£?",
                    answer: "Fists ‡¨π‡≠á‡¨â‡¨õ‡¨ø ‡¨¨‡¨®‡≠ç‡¨¶ ‡¨π‡¨æ‡¨§ ‡•§"
                }
            ]
        }
    },
{
    text: "<br>üëâ Author lived alone. Author lived in Moscow. Author's parents divorced. <br><br>üëâ Author's father left. Father went to Kazakhstan. Father married again. Father had two children. Father never wrote letters. <br><br>üëâ Author's mother left too. Mother went to war. Mother sang for soldiers. <br><br>üëâ Author had no family. Author lived on streets. Streets taught author things. Author learned bad habits. Author learned to fight. Author learned no fear. Author fears no one.",
    
    audio: "https://github.com/eguruOdisha/FRONT/raw/main/ospage1.mp3",
    
    mermaid: `graph LR

A[Author lived alone] --> B[Family left author]

B --> B1[Parents divorced]
B --> B2[Father in Kazakhstan]
B --> B3[Father remarried]
B --> B4[Father had two children]
B --> B5[Father never wrote]
B --> B6[Mother at war]
B --> B7[Mother sang songs]

A --> C[Street life]

C --> C1[Grew on streets]
C --> C2[Learned bad habits]
C --> C3[Learned to fight]
C --> C4[Learned no fear]
`,

    mcq: {
        questions: [
            {
                question: "Where did author live?",
                options: ["Kazakhstan", "Moscow", "Kiev", "Delhi"],
                correct: 1
            },
            {
                question: "Where was author's father?",
                options: ["In Moscow", "In Kazakhstan", "In Germany", "At home"],
                correct: 1
            },
            {
                question: "What did mother do?",
                options: ["Mother did farming", "Mother worked in office", "Mother sang for soldiers", "Mother stayed home"],
                correct: 2
            },
            {
                question: "What did streets teach?",
                options: ["Writing letters", "Reading books", "Fighting without fear", "Singing songs"],
                correct: 2
            },
            {
                question: "Who taught author courage?",
                options: ["Author's teacher", "Author's mother", "The streets", "Author's father"],
                correct: 2
            }
        ]
    },

    trueFalse: {
        questions: [
            {
                question: "Author lived alone.",
                correct: true
            },
            {
                question: "Parents stayed together.",
                correct: false
            },
            {
                question: "Father was in Kazakhstan.",
                correct: true
            },
            {
                question: "Father wrote letters regularly.",
                correct: false
            },
            {
                question: "Mother went to war.",
                correct: true
            },
            {
                question: "Mother never sang songs.",
                correct: false
            },
            {
                question: "Author grew on streets.",
                correct: true
            },
            {
                question: "Streets taught good habits.",
                correct: false
            },
            {
                question: "Streets taught fighting.",
                correct: true
            },
            {
                question: "Author feared powerful people.",
                correct: false
            }
        ]
    },

    fillBlanks: {
        questions: [
            {
                question: "Author lived in ___.",
                answer: "Moscow"
            },
            {
                question: "Author's parents ___.",
                answer: "divorced"
            },
            {
                question: "Father was in ___.",
                answer: "Kazakhstan"
            },
            {
                question: "Father had ___ children.",
                answer: "two"
            },
            {
                question: "Father never wrote ___.",
                answer: "letters"
            },
            {
                question: "Mother went to ___.",
                answer: "war"
            },
            {
                question: "Mother sang for ___.",
                answer: "soldiers"
            },
            {
                question: "Author grew on ___.",
                answer: "streets"
            },
            {
                question: "Streets taught ___ habits.",
                answer: "bad"
            },
            {
                question: "Streets taught author ___.",
                answer: "fighting"
            },
            {
                question: "Author learned no ___.",
                answer: "fear"
            },
            {
                question: "Author fears no ___.",
                answer: "one"
            }
        ]
    },

    matching: {
        pairs: [
            { left: "Moscow", right: "Author lived here alone" },
            { left: "Father", right: "Went to Kazakhstan" },
            { left: "Mother", right: "Sang for soldiers" },
            { left: "Streets", right: "Taught author to fight" },
            { left: "Fear", right: "Author learned none" }
        ]
    },

    arrange: {
        questions: [
            {
                words: ["lived", "Author", "alone"],
                correct: "Author lived alone"
            },
            {
                words: ["parents", "Author's", "divorced"],
                correct: "Author's parents divorced"
            },
            {
                words: ["father", "Author's", "left"],
                correct: "Author's father left"
            },
            {
                words: ["married", "Father", "again"],
                correct: "Father married again"
            },
            {
                words: ["two", "had", "Father", "children"],
                correct: "Father had two children"
            },
            {
                words: ["wrote", "never", "Father", "letters"],
                correct: "Father never wrote letters"
            },
            {
                words: ["went", "Mother", "to", "war"],
                correct: "Mother went to war"
            },
            {
                words: ["sang", "Mother", "for", "soldiers"],
                correct: "Mother sang for soldiers"
            },
            {
                words: ["on", "grew", "Author", "streets"],
                correct: "Author grew on streets"
            },
            {
                words: ["bad", "learned", "Author", "habits"],
                correct: "Author learned bad habits"
            },
            {
                words: ["fight", "learned", "to", "Author"],
                correct: "Author learned to fight"
            },
            {
                words: ["no", "learned", "Author", "fear"],
                correct: "Author learned no fear"
            },
            {
                words: ["one", "no", "fears", "Author"],
                correct: "Author fears no one"
            }
        ]
    },

    stq: {
        questions: [
            {
                question: "Where did author live?",
                answer: "Author lived in Moscow."
            },
            {
                question: "Where was author's father?",
                answer: "Father was in Kazakhstan."
            },
            {
                question: "What did mother do?",
                answer: "Mother sang for soldiers."
            },
            {
                question: "What did streets teach?",
                answer: "Streets taught fighting."
            },
            {
                question: "Did author fear anyone?",
                answer: "Author feared no one."
            }
        ]
    }
},
                
],
summary: {
    audio: "https://github.com/eguruOdisha/FRONT/raw/main/ospage1.mp3",
    
    // REPLACE THIS: Comprehensive Summary Mermaid
    summaryMermaid: `graph LR
A[Author lived in Moscow<br/>‡¨≤‡≠á‡¨ñ‡¨ï ‡¨Æ‡¨∏‡≠ç‡¨ï‡≠ã‡¨∞‡≠á ‡¨∞‡¨π‡≠Å‡¨•‡¨ø‡¨≤‡≠á] --> B[Family Breakdown<br/>‡¨™‡¨∞‡¨ø‡¨¨‡¨æ‡¨∞ ‡¨¨‡¨ø‡¨ö‡≠ç‡¨õ‡≠á‡¨¶]
A --> C[Mother's Departure<br/>‡¨Æ‡¨æ‡¨Ü‡¨ô‡≠ç‡¨ï ‡¨¨‡¨ø‡¨¶‡¨æ‡≠ü]
A --> D[Life on Streets<br/>‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨ú‡≠Ä‡¨¨‡¨®]

B --> B1[Parents divorced<br/>‡¨™‡¨ø‡¨§‡¨æ‡¨Æ‡¨æ‡¨§‡¨æ ‡¨õ‡¨æ‡¨°‡¨º‡¨æ‡¨õ‡¨æ‡¨°‡¨º‡¨ø ‡¨π‡≠á‡¨≤‡≠á]
B --> B2[Father to Kazakhstan<br/>‡¨¨‡¨æ‡¨™‡¨æ ‡¨ï‡¨æ‡¨ú‡¨æ‡¨ñ‡¨∏‡≠ç‡¨§‡¨æ‡¨® ‡¨ó‡¨≤‡≠á]
B --> B3[Father married again<br/>‡¨¨‡¨æ‡¨™‡¨æ ‡¨™‡≠Å‡¨£‡¨ø ‡¨¨‡¨ø‡¨¨‡¨æ‡¨π ‡¨ï‡¨≤‡≠á]
B --> B4[Father had 2 children<br/>‡¨¨‡¨æ‡¨™‡¨æ‡¨ô‡≠ç‡¨ï‡¨∞ ‡¨¶‡≠Å‡¨á ‡¨∏‡¨®‡≠ç‡¨§‡¨æ‡¨®]
B --> B5[Never wrote letters<br/>‡¨ö‡¨ø‡¨†‡¨ø ‡¨≤‡≠á‡¨ñ‡¨ø‡¨≤‡≠á ‡¨®‡¨æ‡¨π‡¨ø‡¨Å]

C --> C1[Mother left too<br/>‡¨Æ‡¨æ ‡¨Æ‡¨ß‡≠ç‡≠ü ‡¨ö‡¨æ‡¨≤‡¨ø‡¨ó‡¨≤‡≠á]
C --> C2[Mother to war<br/>‡¨Æ‡¨æ ‡¨Ø‡≠Å‡¨¶‡≠ç‡¨ß‡¨ï‡≠Å ‡¨ó‡¨≤‡≠á]
C --> C3[Sang for soldiers<br/>‡¨∏‡≠à‡¨®‡¨ø‡¨ï‡¨ô‡≠ç‡¨ï ‡¨™‡¨æ‡¨á‡¨Å ‡¨ó‡≠Ä‡¨§]
C --> C4[No family<br/>‡¨ï‡≠å‡¨£‡¨∏‡¨ø ‡¨™‡¨∞‡¨ø‡¨¨‡¨æ‡¨∞ ‡¨®‡¨æ‡¨π‡¨ø‡¨Å]

D --> D1[Streets became home<br/>‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨ò‡¨∞ ‡¨π‡≠á‡¨≤‡¨æ]
D --> D2[Streets became teacher<br/>‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨∂‡¨ø‡¨ï‡≠ç‡¨∑‡¨ï ‡¨π‡≠á‡¨≤‡¨æ]
D --> D3[No family to help<br/>‡¨∏‡¨æ‡¨π‡¨æ‡¨Ø‡≠ç‡≠ü ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ‡¨ï‡≠Å ‡¨ï‡≠á‡¨π‡¨ø ‡¨®‡¨æ‡¨π‡¨ø‡¨Å]

D --> E[Learning Bad Habits<br/>‡¨ñ‡¨∞‡¨æ‡¨™ ‡¨Ö‡¨≠‡≠ç‡≠ü‡¨æ‡¨∏]
E --> E1[Streets taught bad habits<br/>‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨ñ‡¨∞‡¨æ‡¨™ ‡¨Ö‡¨≠‡≠ç‡≠ü‡¨æ‡¨∏ ‡¨∂‡¨ø‡¨ñ‡¨æ‡¨á‡¨≤‡¨æ]
E --> E2[Survival needed bad things<br/>‡¨¨‡¨û‡≠ç‡¨ö‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨ñ‡¨∞‡¨æ‡¨™ ‡¨ï‡¨æ‡¨Æ]

D --> F[Learning to Fight<br/>‡¨Æ‡¨æ‡¨°‡¨º‡¨Æ‡¨æ‡¨°‡¨º‡¨ø ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨¨‡¨æ]
F --> F1[Learned to fight<br/>‡¨Æ‡¨æ‡¨°‡¨º‡¨Æ‡¨æ‡¨°‡¨º‡¨ø ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨≤‡≠á]
F --> F2[Fighting helped survive<br/>‡¨Æ‡¨æ‡¨°‡¨º‡¨Æ‡¨æ‡¨°‡¨º‡¨ø ‡¨¨‡¨û‡≠ç‡¨ö‡¨ø‡¨¨‡¨æ‡¨∞‡≠á ‡¨∏‡¨æ‡¨π‡¨æ‡¨Ø‡≠ç‡≠ü]

D --> G[Becoming Fearless<br/>‡¨®‡¨ø‡¨∞‡≠ç‡¨≠‡≠Ä‡¨ï ‡¨π‡≠á‡¨¨‡¨æ]
G --> G1[Became fearless<br/>‡¨¨‡¨π‡≠Å‡¨§ ‡¨®‡¨ø‡¨∞‡≠ç‡¨≠‡≠Ä‡¨ï ‡¨π‡≠á‡¨≤‡≠á]
G --> G2[Fears no one<br/>‡¨ï‡¨æ‡¨π‡¨æ‡¨ï‡≠Å ‡¨°‡¨∞‡¨®‡≠ç‡¨§‡¨ø ‡¨®‡¨æ‡¨π‡¨ø‡¨Å]
G --> G3[Streets made strong<br/>‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨∂‡¨ï‡≠ç‡¨§‡¨ø‡¨∂‡¨æ‡¨≥‡≠Ä ‡¨ï‡¨≤‡¨æ]

A --> H[Conclusion<br/>‡¨®‡¨ø‡¨∑‡≠ç‡¨ï‡¨∞‡≠ç‡¨∑]
H --> H1[Tough childhood<br/>‡¨ï‡¨∑‡≠ç‡¨ü‡¨ï‡¨∞ ‡¨™‡¨ø‡¨≤‡¨æ‡¨¶‡¨ø‡¨®]
H --> H2[Parents left<br/>‡¨¶‡≠Å‡¨π‡≠á‡¨Å ‡¨™‡¨ø‡¨§‡¨æ‡¨Æ‡¨æ‡¨§‡¨æ ‡¨õ‡¨æ‡¨°‡¨º‡¨ø‡¨¶‡≠á‡¨≤‡≠á]
H --> H3[Survived on streets<br/>‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ‡¨∞‡≠á ‡¨¨‡¨û‡≠ç‡¨ö‡¨ø‡¨≤‡≠á]
H --> H4[Streets made fearless<br/>‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨®‡¨ø‡¨∞‡≠ç‡¨≠‡≠Ä‡¨ï ‡¨ï‡¨≤‡¨æ]

style A fill:#667eea,color:#fff
style B fill:#f5576c,color:#fff
style C fill:#f093fb,color:#fff
style D fill:#43e97b,color:#fff
style E fill:#fa709a,color:#fff
style F fill:#30cfd0,color:#fff
style G fill:#4facfe,color:#fff
style H fill:#eb3349,color:#fff`,

    // REPLACE THIS: Comprehensive Question Mermaid
    questionMermaid: `graph LR
Q[What happened in childhood?<br/>‡¨™‡¨ø‡¨≤‡¨æ‡¨¶‡¨ø‡¨®‡¨∞‡≠á ‡¨ï'‡¨£ ‡¨π‡≠á‡¨≤‡¨æ?] --> I[Introduction<br/>‡¨™‡¨∞‡¨ø‡¨ö‡≠ü]

I --> I1[Difficult childhood<br/>‡¨ï‡¨∑‡≠ç‡¨ü‡¨ï‡¨∞ ‡¨™‡¨ø‡¨≤‡¨æ‡¨¶‡¨ø‡¨®]
I --> I2[Parents left author<br/>‡¨™‡¨ø‡¨§‡¨æ‡¨Æ‡¨æ‡¨§‡¨æ ‡¨õ‡¨æ‡¨°‡¨º‡¨ø‡¨¶‡≠á‡¨≤‡≠á]
I --> I3[Lived on streets<br/>‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ‡¨∞‡≠á ‡¨∞‡¨π‡¨ø‡¨≤‡≠á]

Q --> P1[Point 1:<br/>Parents divorced<br/>‡¨™‡¨ø‡¨§‡¨æ‡¨Æ‡¨æ‡¨§‡¨æ ‡¨õ‡¨æ‡¨°‡¨º‡¨æ‡¨õ‡¨æ‡¨°‡¨º‡¨ø ‡¨π‡≠á‡¨≤‡≠á]
Q --> P2[Point 2:<br/>Father to Kazakhstan<br/>‡¨¨‡¨æ‡¨™‡¨æ ‡¨ï‡¨æ‡¨ú‡¨æ‡¨ñ‡¨∏‡≠ç‡¨§‡¨æ‡¨® ‡¨ó‡¨≤‡≠á]
Q --> P3[Point 3:<br/>Mother to war<br/>‡¨Æ‡¨æ ‡¨Ø‡≠Å‡¨¶‡≠ç‡¨ß‡¨ï‡≠Å ‡¨ó‡¨≤‡≠á]
Q --> P4[Point 4:<br/>Lived on streets<br/>‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ‡¨∞‡≠á ‡¨∞‡¨π‡¨ø‡¨≤‡≠á]
Q --> P5[Point 5:<br/>Learned bad habits<br/>‡¨ñ‡¨∞‡¨æ‡¨™ ‡¨Ö‡¨≠‡≠ç‡≠ü‡¨æ‡¨∏ ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨≤‡≠á]
Q --> P6[Point 6:<br/>Became fearless<br/>‡¨®‡¨ø‡¨∞‡≠ç‡¨≠‡≠Ä‡¨ï ‡¨π‡≠ã‡¨á‡¨ó‡¨≤‡≠á]

Q --> C[Conclusion<br/>‡¨®‡¨ø‡¨∑‡≠ç‡¨ï‡¨∞‡≠ç‡¨∑]
C --> C1[Shows difficult childhood<br/>‡¨ï‡¨∑‡≠ç‡¨ü‡¨ï‡¨∞ ‡¨™‡¨ø‡¨≤‡¨æ‡¨¶‡¨ø‡¨® ‡¨¶‡≠á‡¨ñ‡¨æ‡¨è]
C --> C2[Both parents abandoned<br/>‡¨¶‡≠Å‡¨π‡≠á‡¨Å ‡¨™‡¨ø‡¨§‡¨æ‡¨Æ‡¨æ‡¨§‡¨æ ‡¨õ‡¨æ‡¨°‡¨º‡¨ø‡¨¶‡≠á‡¨≤‡≠á]
C --> C3[Survived alone<br/>‡¨è‡¨ï‡≠Å‡¨ü‡¨ø‡¨Ü ‡¨¨‡¨û‡≠ç‡¨ö‡¨ø‡¨≤‡≠á]
C --> C4[Streets made strong<br/>‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨∂‡¨ï‡≠ç‡¨§‡¨ø‡¨∂‡¨æ‡¨≥‡≠Ä ‡¨ï‡¨≤‡¨æ]

style Q fill:#667eea,color:#fff
style I fill:#f093fb,color:#fff
style P1 fill:#f5576c,color:#fff
style P2 fill:#f5576c,color:#fff
style P3 fill:#f5576c,color:#fff
style P4 fill:#43e97b,color:#fff
style P5 fill:#fa709a,color:#fff
style P6 fill:#4facfe,color:#fff
style C fill:#eb3349,color:#fff`,
    
    content: {
        introduction: "Author lived in Moscow. ‡¨≤‡≠á‡¨ñ‡¨ï ‡¨Æ‡¨∏‡≠ç‡¨ï‡≠ã‡¨∞‡≠á ‡¨∞‡¨π‡≠Å‡¨•‡¨ø‡¨≤‡≠á‡•§ Parents left the author. ‡¨™‡¨ø‡¨§‡¨æ‡¨Æ‡¨æ‡¨§‡¨æ ‡¨õ‡¨æ‡¨°‡¨º‡¨ø‡¨¶‡≠á‡¨≤‡≠á‡•§ Author lived on streets. ‡¨≤‡≠á‡¨ñ‡¨ï ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ‡¨∞‡≠á ‡¨∞‡¨π‡¨ø‡¨≤‡≠á‡•§ Streets taught many things. ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨Ö‡¨®‡≠á‡¨ï ‡¨ï‡¨•‡¨æ ‡¨∂‡¨ø‡¨ñ‡¨æ‡¨á‡¨≤‡¨æ‡•§",
        sentences: [
            {
                heading: "Family Breakdown",
                text: "Parents divorced early on. ‡¨™‡¨ø‡¨§‡¨æ‡¨Æ‡¨æ‡¨§‡¨æ ‡¨õ‡¨æ‡¨°‡¨º‡¨æ‡¨õ‡¨æ‡¨°‡¨º‡¨ø ‡¨π‡≠á‡¨≤‡≠á‡•§ Father went to Kazakhstan. ‡¨¨‡¨æ‡¨™‡¨æ ‡¨ï‡¨æ‡¨ú‡¨æ‡¨ñ‡¨∏‡≠ç‡¨§‡¨æ‡¨® ‡¨ó‡¨≤‡≠á‡•§ Father married again there. ‡¨¨‡¨æ‡¨™‡¨æ ‡¨™‡≠Å‡¨£‡¨ø ‡¨¨‡¨ø‡¨¨‡¨æ‡¨π ‡¨ï‡¨≤‡≠á‡•§ Father had two children. ‡¨¨‡¨æ‡¨™‡¨æ‡¨ô‡≠ç‡¨ï‡¨∞ ‡¨¶‡≠Å‡¨á ‡¨∏‡¨®‡≠ç‡¨§‡¨æ‡¨® ‡¨π‡≠á‡¨≤‡¨æ‡•§ Father never wrote letters. ‡¨¨‡¨æ‡¨™‡¨æ ‡¨ï‡≠á‡¨¨‡≠á ‡¨ö‡¨ø‡¨†‡¨ø ‡¨≤‡≠á‡¨ñ‡¨ø‡¨≤‡≠á ‡¨®‡¨æ‡¨π‡¨ø‡¨Å‡•§"
            },
            {
                heading: "Mother's Departure",
                text: "Mother left too. ‡¨Æ‡¨æ ‡¨Æ‡¨ß‡≠ç‡≠ü ‡¨ö‡¨æ‡¨≤‡¨ø‡¨ó‡¨≤‡≠á‡•§ Mother went to war. ‡¨Æ‡¨æ ‡¨Ø‡≠Å‡¨¶‡≠ç‡¨ß‡¨ï‡≠Å ‡¨ó‡¨≤‡≠á‡•§ Mother sang for soldiers. ‡¨Æ‡¨æ ‡¨∏‡≠à‡¨®‡¨ø‡¨ï‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï ‡¨™‡¨æ‡¨á‡¨Å ‡¨ó‡≠Ä‡¨§ ‡¨ó‡¨æ‡¨á‡¨≤‡≠á‡•§ Author had no family. ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï‡¨∞ ‡¨ï‡≠å‡¨£‡¨∏‡¨ø ‡¨™‡¨∞‡¨ø‡¨¨‡¨æ‡¨∞ ‡¨®‡¨•‡¨ø‡¨≤‡¨æ‡•§"
            },
            {
                heading: "Life on Streets",
                text: "Author lived on streets. ‡¨≤‡≠á‡¨ñ‡¨ï ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ‡¨∞‡≠á ‡¨∞‡¨π‡¨ø‡¨≤‡≠á‡•§ Streets became the home. ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨ò‡¨∞ ‡¨π‡≠ã‡¨á‡¨ó‡¨≤‡¨æ‡•§ Streets became the teacher. ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨∂‡¨ø‡¨ï‡≠ç‡¨∑‡¨ï ‡¨π‡≠ã‡¨á‡¨ó‡¨≤‡¨æ‡•§ No family to help. ‡¨∏‡¨æ‡¨π‡¨æ‡¨Ø‡≠ç‡≠ü ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ‡¨ï‡≠Å ‡¨ï‡≠á‡¨π‡¨ø ‡¨®‡¨•‡¨ø‡¨≤‡≠á‡•§"
            },
            {
                heading: "Learning Bad Habits",
                text: "Streets taught bad habits. ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨ñ‡¨∞‡¨æ‡¨™ ‡¨Ö‡¨≠‡≠ç‡≠ü‡¨æ‡¨∏ ‡¨∂‡¨ø‡¨ñ‡¨æ‡¨á‡¨≤‡¨æ‡•§ Survival needed bad things. ‡¨¨‡¨û‡≠ç‡¨ö‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨ñ‡¨∞‡¨æ‡¨™ ‡¨ï‡¨æ‡¨Æ ‡¨¶‡¨∞‡¨ï‡¨æ‡¨∞‡•§ Author learned these things. ‡¨≤‡≠á‡¨ñ‡¨ï ‡¨è‡¨∏‡¨¨‡≠Å ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨≤‡≠á‡•§"
            },
            {
                heading: "Learning to Fight",
                text: "Author learned to fight. ‡¨≤‡≠á‡¨ñ‡¨ï ‡¨Æ‡¨æ‡¨°‡¨º‡¨Æ‡¨æ‡¨°‡¨º‡¨ø ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨≤‡≠á‡•§ Fighting helped to survive. ‡¨Æ‡¨æ‡¨°‡¨º‡¨Æ‡¨æ‡¨°‡¨º‡¨ø ‡¨¨‡¨û‡≠ç‡¨ö‡¨ø‡¨¨‡¨æ‡¨∞‡≠á ‡¨∏‡¨æ‡¨π‡¨æ‡¨Ø‡≠ç‡≠ü ‡¨ï‡¨≤‡¨æ‡•§ Streets taught this skill. ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨è‡¨π‡¨ø ‡¨ï‡≠å‡¨∂‡¨≥ ‡¨∂‡¨ø‡¨ñ‡¨æ‡¨á‡¨≤‡¨æ‡•§"
            },
            {
                heading: "Becoming Fearless",
                text: "Author became very fearless. ‡¨≤‡≠á‡¨ñ‡¨ï ‡¨¨‡¨π‡≠Å‡¨§ ‡¨®‡¨ø‡¨∞‡≠ç‡¨≠‡≠Ä‡¨ï ‡¨π‡≠ã‡¨á‡¨ó‡¨≤‡≠á‡•§ Author fears no one. ‡¨≤‡≠á‡¨ñ‡¨ï ‡¨ï‡¨æ‡¨π‡¨æ‡¨ï‡≠Å ‡¨°‡¨∞‡¨®‡≠ç‡¨§‡¨ø ‡¨®‡¨æ‡¨π‡¨ø‡¨Å‡•§ Streets made author strong. ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï‡≠Å ‡¨∂‡¨ï‡≠ç‡¨§‡¨ø‡¨∂‡¨æ‡¨≥‡≠Ä ‡¨ï‡¨≤‡¨æ‡•§"
            }
        ],
        conclusion: "Author had tough childhood. ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨ï‡¨∑‡≠ç‡¨ü‡¨ï‡¨∞ ‡¨™‡¨ø‡¨≤‡¨æ‡¨¶‡¨ø‡¨® ‡¨•‡¨ø‡¨≤‡¨æ‡•§ Both parents left author. ‡¨¶‡≠Å‡¨π‡≠á‡¨Å ‡¨™‡¨ø‡¨§‡¨æ‡¨Æ‡¨æ‡¨§‡¨æ ‡¨õ‡¨æ‡¨°‡¨º‡¨ø‡¨¶‡≠á‡¨≤‡≠á‡•§ Author survived on streets. ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ‡¨∞‡≠á ‡¨¨‡¨û‡≠ç‡¨ö‡¨ø‡¨≤‡≠á‡•§ Streets made author fearless. ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨®‡¨ø‡¨∞‡≠ç‡¨≠‡≠Ä‡¨ï ‡¨ï‡¨≤‡¨æ‡•§"
    },
    question: {
        audio: "https://github.com/eguruOdisha/FRONT/raw/main/ospage1.mp3",
        question: "What happened in childhood? ‡¨™‡¨ø‡¨≤‡¨æ‡¨¶‡¨ø‡¨®‡¨∞‡≠á ‡¨ï'‡¨£ ‡¨π‡≠á‡¨≤‡¨æ?",
        introduction: "Author had difficult childhood. ‡¨≤‡≠á‡¨ñ‡¨ï‡¨ô‡≠ç‡¨ï ‡¨ï‡¨∑‡≠ç‡¨ü‡¨ï‡¨∞ ‡¨™‡¨ø‡¨≤‡¨æ‡¨¶‡¨ø‡¨® ‡¨•‡¨ø‡¨≤‡¨æ‡•§ Parents left the author. ‡¨™‡¨ø‡¨§‡¨æ‡¨Æ‡¨æ‡¨§‡¨æ ‡¨õ‡¨æ‡¨°‡¨º‡¨ø‡¨¶‡≠á‡¨≤‡≠á‡•§ Author lived on streets. ‡¨≤‡≠á‡¨ñ‡¨ï ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ‡¨∞‡≠á ‡¨∞‡¨π‡¨ø‡¨≤‡≠á‡•§ Main events are below: ‡¨Æ‡≠Å‡¨ñ‡≠ç‡≠ü ‡¨ò‡¨ü‡¨£‡¨æ‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï ‡¨π‡≠á‡¨â‡¨õ‡¨ø:",
        points: [
            "Parents divorced. ‡¨™‡¨ø‡¨§‡¨æ‡¨Æ‡¨æ‡¨§‡¨æ ‡¨õ‡¨æ‡¨°‡¨º‡¨æ‡¨õ‡¨æ‡¨°‡¨º‡¨ø ‡¨π‡≠á‡¨≤‡≠á‡•§",
            "Father went to Kazakhstan. ‡¨¨‡¨æ‡¨™‡¨æ ‡¨ï‡¨æ‡¨ú‡¨æ‡¨ñ‡¨∏‡≠ç‡¨§‡¨æ‡¨® ‡¨ó‡¨≤‡≠á‡•§",
            "Mother went to war. ‡¨Æ‡¨æ ‡¨Ø‡≠Å‡¨¶‡≠ç‡¨ß‡¨ï‡≠Å ‡¨ó‡¨≤‡≠á‡•§",
            "Author lived on streets. ‡¨≤‡≠á‡¨ñ‡¨ï ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ‡¨∞‡≠á ‡¨∞‡¨π‡¨ø‡¨≤‡≠á‡•§",
            "Learned bad habits. ‡¨ñ‡¨∞‡¨æ‡¨™ ‡¨Ö‡¨≠‡≠ç‡≠ü‡¨æ‡¨∏ ‡¨∂‡¨ø‡¨ñ‡¨ø‡¨≤‡≠á‡•§",
            "Became fearless. ‡¨®‡¨ø‡¨∞‡≠ç‡¨≠‡≠Ä‡¨ï ‡¨π‡≠ã‡¨á‡¨ó‡¨≤‡≠á‡•§"
        ],
        conclusion: "These events show difficult childhood. ‡¨è‡¨π‡¨ø ‡¨ò‡¨ü‡¨£‡¨æ‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï ‡¨ï‡¨∑‡≠ç‡¨ü‡¨ï‡¨∞ ‡¨™‡¨ø‡¨≤‡¨æ‡¨¶‡¨ø‡¨® ‡¨¶‡≠á‡¨ñ‡¨æ‡¨è‡•§ Both parents abandoned author. ‡¨¶‡≠Å‡¨π‡≠á‡¨Å ‡¨™‡¨ø‡¨§‡¨æ‡¨Æ‡¨æ‡¨§‡¨æ ‡¨õ‡¨æ‡¨°‡¨º‡¨ø‡¨¶‡≠á‡¨≤‡≠á‡•§ Author survived alone. ‡¨≤‡≠á‡¨ñ‡¨ï ‡¨è‡¨ï‡≠Å‡¨ü‡¨ø‡¨Ü ‡¨¨‡¨û‡≠ç‡¨ö‡¨ø‡¨≤‡≠á‡•§ Streets made author strong. ‡¨∞‡¨æ‡¨∏‡≠ç‡¨§‡¨æ ‡¨∂‡¨ï‡≠ç‡¨§‡¨ø‡¨∂‡¨æ‡¨≥‡≠Ä ‡¨ï‡¨≤‡¨æ‡•§"
    }
}
        };

        let currentSentence = 0;
        let currentAudio = null;
        let scores = { mcq: 0, tf: 0, fib: 0, matching: 0, arrange: 0 };
// ============================================
// NEW AUDIO MANAGEMENT SYSTEM - ADD THIS
// ============================================

let currentAudioButton = null;

function createAudioButton(audioUrl, containerId = null) {
    if (!audioUrl || audioUrl.includes('example.com')) {
        return ''; // Return empty string if no valid audio
    }
    
    const buttonId = containerId ? `audio-btn-${containerId}` : `audio-btn-${Date.now()}`;
    return `<button class="audio-control-btn" id="${buttonId}" data-audio="${audioUrl}" onclick="toggleAudio('${buttonId}', '${audioUrl}')">
        üîä
    </button>`;
}

function toggleAudio(buttonId, audioUrl) {
    const button = document.getElementById(buttonId);
    
    // If this button's audio is currently playing, stop it
    if (currentAudio && currentAudioButton === buttonId) {
        stopAudio();
        return;
    }
    
    // Stop any currently playing audio
    stopAudio();
    
    // Start new audio
    playNewAudio(buttonId, audioUrl);
}

function playNewAudio(buttonId, audioUrl) {
    const button = document.getElementById(buttonId);
    
    if (!audioUrl || audioUrl.includes('example.com')) {
        return;
    }
    
    try {
        currentAudio = new Audio(audioUrl);
        currentAudioButton = buttonId;
        
        // Update button appearance
        button.textContent = '‚è∏Ô∏è';
        button.classList.add('playing');
        
        // Handle play
        currentAudio.play().catch(error => {
            console.log('Playback error:', error);
            stopAudio();
        });
        
        // Handle audio end
        currentAudio.addEventListener('ended', () => {
            stopAudio();
        });
        
        // Handle errors
        currentAudio.addEventListener('error', (e) => {
            console.error('Audio error:', e);
            stopAudio();
        });
        
    } catch (error) {
        console.error('Error creating audio:', error);
        stopAudio();
    }
}

function stopAudio() {
    if (currentAudio) {
        currentAudio.pause();
        currentAudio.currentTime = 0;
        currentAudio = null;
    }
    
    if (currentAudioButton) {
        const button = document.getElementById(currentAudioButton);
        if (button) {
            button.textContent = 'üîä';
            button.classList.remove('playing');
        }
        currentAudioButton = null;
    }
}

// Clean up audio when leaving a test
function cleanupAudio() {
    stopAudio();
}

// ============================================
// END OF NEW AUDIO MANAGEMENT SYSTEM
// ============================================

        let maxScores = { mcq: 0, tf: 0, fib: 0, matching: 0, arrange: 0 };
        let completedTests = { mcq: false, tf: false, fib: false, matching: false, arrange: false, stq: false };
        let isSummaryScreen = false;

        
        const sentenceText = document.getElementById('sentenceText');
        const testContainer = document.getElementById('testContainer');
        const progressFill = document.getElementById('progressFill');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const totalScoreEl = document.getElementById('totalScore');
        const maxScoreEl = document.getElementById('maxScore');

        const mcqBtn = document.getElementById('mcqBtn');
        const tfBtn = document.getElementById('tfBtn');
        const fibBtn = document.getElementById('fibBtn');
        const matchBtn = document.getElementById('matchBtn');
        const arrangeBtn = document.getElementById('arrangeBtn');
        const stqBtn = document.getElementById('stqBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');

        

      
// Function to show/hide mermaid diagram
document.getElementById('mermaidBtn').addEventListener('click', function() {
    const container = document.getElementById('mermaidContainer');
    
    if (container.classList.contains('active')) {
        container.classList.remove('active');
        this.textContent = 'üìä ‡¨Ü‡¨∏‡¨®‡≠ç‡¨§‡≠Å, ‡¨ö‡¨ø‡¨§‡≠ç‡¨∞ ‡¨¶‡≠á‡¨ñ‡¨ø ‡¨¨‡≠Å‡¨ù‡¨ø‡¨¨‡¨æ..';
    } else {
        loadMermaidDiagram();
        container.classList.add('active');
        this.textContent = '‚úñÔ∏è ‡¨ö‡¨ø‡¨§‡≠ç‡¨∞‡¨ï‡≠Å ‡¨¨‡¨®‡≠ç‡¨¶ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ';
    }
});

function loadMermaidDiagram() {
    if (isSummaryScreen) return;
    
    const sentence = courseData.sentences[currentSentence];
    const container = document.getElementById('mermaidContainer');
    
    if (sentence.mermaid) {
        // Create unique ID for this diagram
        const diagramId = `mermaid-diagram-${currentSentence}`;
        
        container.innerHTML = `
            <h3>üìä ‡¨è‡¨π‡¨ø ‡¨ö‡¨ø‡¨§‡≠ç‡¨∞ ‡¨Æ‡¨æ‡¨ß‡≠ç‡≠ü‡¨Æ‡¨∞‡≠á ‡¨Æ‡¨®‡≠á‡¨∞‡¨ñ‡¨ø‡¨¨‡¨æ‡¨ï‡≠Å ‡¨ö‡≠á‡¨∑‡≠ç‡¨ü‡¨æ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å : </h3>
            <div id="${diagramId}" class="mermaid">
                ${sentence.mermaid}
            </div>
        `;
        
        // Render the mermaid diagram
        mermaid.run({
            nodes: document.querySelectorAll(`#${diagramId}`)
        });
    } else {
        container.innerHTML = '<h3>No diagram available for this sentence</h3>';
    }
}

  function loadSentence(index) {
    scrollToTop();
    cleanupAudio();
    isSummaryScreen = false;
    
    // ADD THIS LINE - Reset scores for new sentence
    scores = { mcq: 0, tf: 0, fib: 0, matching: 0, arrange: 0 };
    
    const sentence = courseData.sentences[index];
    
    // Add audio button to sentence text if valid audio exists
    const audioButton = createAudioButton(sentence.audio, `sentence-${index}`);
    sentenceText.innerHTML = `
        <div style="display: flex; align-items: flex-start; gap: 10px;">
            <div style="flex: 1;">${sentence.text}</div>
            ${audioButton}
        </div>
    `;
    
    testContainer.innerHTML = '';
    
    // Hide mermaid diagram when loading new sentence
    const mermaidContainer = document.getElementById('mermaidContainer');
    mermaidContainer.classList.remove('active');
    document.getElementById('mermaidBtn').textContent = 'üìä ‡¨Ü‡¨∏‡¨®‡≠ç‡¨§‡≠Å, ‡¨ö‡¨ø‡¨§‡≠ç‡¨∞ ‡¨¶‡≠á‡¨ñ‡¨ø ‡¨¨‡≠Å‡¨ù‡¨ø‡¨¨‡¨æ..';
    document.getElementById('mermaidBtn').style.display = 'block';
    
    completedTests = { mcq: false, tf: false, fib: false, matching: false, arrange: false, stq: false };
    
    mcqBtn.disabled = false;
    tfBtn.disabled = false;
    fibBtn.disabled = false;
    matchBtn.disabled = false;
    arrangeBtn.disabled = false;
    stqBtn.disabled = false;
    
    nextBtn.disabled = false;
    prevBtn.disabled = currentSentence === 0;
    
    const data = sentence;
    maxScores.mcq = data.mcq.questions.length;
    maxScores.tf = data.trueFalse.questions.length;
    maxScores.fib = data.fillBlanks.questions.length;
    maxScores.matching = data.matching.pairs.length;
    maxScores.arrange = data.arrange.questions.length;
    
    updateProgress();
    updateScoreDisplay();
}

function scrollToTop() {
    const contentSection = document.getElementById('contentSection') || document.querySelector('.content-section');
    const isMobile = window.innerWidth <= 768;
    
    if (isMobile) {
        // AGGRESSIVE MOBILE SCROLL - Multiple methods simultaneously
        
        // Method 1: Direct window scroll
        window.scrollTo(0, 0);
        document.documentElement.scrollTop = 0;
        document.body.scrollTop = 0;
        
        // Method 2: Scroll all possible containers
        if (contentSection) {
            contentSection.scrollTop = 0;
            contentSection.scrollTo(0, 0);
        }
        
        const container = document.querySelector('.container');
        if (container) {
            container.scrollTop = 0;
            container.scrollTo(0, 0);
        }
        
        // Method 3: Use requestAnimationFrame for immediate rendering
        requestAnimationFrame(() => {
            window.scrollTo(0, 0);
            document.documentElement.scrollTop = 0;
            document.body.scrollTop = 0;
            if (contentSection) contentSection.scrollTop = 0;
        });
        
        // Method 4: Repeated attempts with delays (mobile browsers need this)
        [10, 20, 50, 100, 150, 200, 300].forEach(delay => {
            setTimeout(() => {
                window.scrollTo(0, 0);
                document.documentElement.scrollTop = 0;
                document.body.scrollTop = 0;
                if (contentSection) contentSection.scrollTop = 0;
            }, delay);
        });
        
        // Method 5: Focus on top element (tricks mobile browser)
        const topElement = document.querySelector('.progress-bar') || contentSection;
        if (topElement) {
            topElement.scrollIntoView({ behavior: 'auto', block: 'center' });
        }
        
    } else {
        // Desktop: scroll the content section (existing code)
        if (contentSection) {
            const originalBehavior = contentSection.style.scrollBehavior;
            contentSection.style.scrollBehavior = 'auto';
            
            contentSection.scrollTop = 0;
            contentSection.scrollTo(0, 0);
            
            requestAnimationFrame(() => {
                contentSection.scrollTop = 0;
            });
            
            setTimeout(() => {
                contentSection.scrollTop = 0;
                contentSection.style.scrollBehavior = originalBehavior;
            }, 10);
            
            setTimeout(() => contentSection.scrollTop = 0, 50);
            setTimeout(() => contentSection.scrollTop = 0, 100);
        }
    }
}
        
function loadSummary() {
    scrollToTop();
    cleanupAudio();
    isSummaryScreen = true;
    const summary = courseData.summary;
    
    const summaryAudioButton = createAudioButton(summary.audio, 'summary-audio');
    const questionAudioButton = createAudioButton(summary.question.audio, 'summary-question-audio');
    
    // Create toggle buttons
    let summaryHTML = `
        <div class="summary-toggle-buttons">
            <button class="summary-toggle-btn show-summary-btn" onclick="showSummaryContent()">
                üìö ‡¨¶‡≠Ä‡¨∞‡≠ç‡¨ò ‡¨â‡¨§‡≠ç‡¨§‡¨∞‡¨Æ‡≠Ç‡¨≥‡¨ï ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨® 
            </button>
            <button class="summary-toggle-btn show-question-btn" onclick="showQuestionContent()">
                üìù ‡¨∏‡¨Ç‡¨ï‡≠ç‡¨∑‡¨ø‡¨™‡≠ç‡¨§ ‡¨â‡¨§‡≠ç‡¨§‡¨∞‡¨Æ‡≠Ç‡¨≥‡¨ï ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨® 
            </button>
        </div>
        
        <div id="summaryContentDiv" class="summary-content" style="display: none;">
            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                <h2 style="color: #667eea; margin: 0;">üìö ‡¨∏‡¨æ‡¨∞‡¨ï‡¨•‡¨æ:</h2>
                ${summaryAudioButton}
            </div>
            
            <!-- ADD MERMAID BUTTON FOR SUMMARY -->
            <button class="mermaid-btn" onclick="toggleSummaryMermaid()" style="margin-bottom: 12px;">
                üìä ‡¨Ü‡¨∏‡¨®‡≠ç‡¨§‡≠Å, ‡¨ö‡¨ø‡¨§‡≠ç‡¨∞ ‡¨¶‡≠á‡¨ñ‡¨ø ‡¨¨‡≠Å‡¨ù‡¨ø‡¨¨‡¨æ..
            </button>
            <div id="summaryMermaidContainer" class="mermaid-container"></div>
            
            <p>${summary.content.introduction}</p>
            <ul>`;
    
    summary.content.sentences.forEach((item, index) => {
        summaryHTML += `<li><strong>${item.heading}:</strong> ${item.text}</li>`;
    });
    
    summaryHTML += `</ul>
            <h3>‡¨®‡¨ø‡¨∑‡≠ç‡¨ï‡¨∞‡≠ç‡¨∑ : </h3>
            <p>${summary.content.conclusion}</p>
        </div>
        
        <div id="questionContentDiv" class="summary-question-content">
            <div style="display: flex; align-items: flex-start; gap: 10px; margin-bottom: 12px;">
                <h3 style="margin: 0; flex: 1;">${summary.question.question}</h3>
                ${questionAudioButton}
            </div>
            
            <!-- ADD MERMAID BUTTON FOR QUESTION -->
            <button class="mermaid-btn" onclick="toggleQuestionMermaid()" style="margin-bottom: 12px;">
                üìä ‡¨Ü‡¨∏‡¨®‡≠ç‡¨§‡≠Å, ‡¨ö‡¨ø‡¨§‡≠ç‡¨∞ ‡¨¶‡≠á‡¨ñ‡¨ø ‡¨¨‡≠Å‡¨ù‡¨ø‡¨¨‡¨æ..
            </button>
            <div id="questionMermaidContainer" class="mermaid-container"></div>
            
            <p>${summary.question.introduction}</p>
            <ul>`;
    
    summary.question.points.forEach(point => {
        summaryHTML += `<li>${point}</li>`;
    });
    
    summaryHTML += `</ul>
            <p><strong>‡¨®‡¨ø‡¨∑‡≠ç‡¨ï‡¨∞‡≠ç‡¨∑:</strong> ${summary.question.conclusion}</p>
        </div>`;
    
    sentenceText.innerHTML = summaryHTML;
    testContainer.innerHTML = '';
    
    // Hide main mermaid button on summary screen
    const mermaidContainer = document.getElementById('mermaidContainer');
    mermaidContainer.classList.remove('active');
    document.getElementById('mermaidBtn').style.display = 'none';
    
    completedTests = { mcq: false, tf: false, fib: false, matching: false, arrange: false, stq: false };
    
    mcqBtn.disabled = false;
    tfBtn.disabled = false;
    fibBtn.disabled = false;
    matchBtn.disabled = false;
    arrangeBtn.disabled = false;
    stqBtn.disabled = false;
    
    nextBtn.disabled = true;
    prevBtn.disabled = false;
    
    calculateSummaryMaxScores();
    updateProgress();
    updateScoreDisplay();
}
function showSummaryContent() {
    const summaryDiv = document.getElementById('summaryContentDiv');
    const questionDiv = document.getElementById('questionContentDiv');
    const summaryBtn = document.querySelector('.show-summary-btn');
    const questionBtn = document.querySelector('.show-question-btn');
    
    // Toggle summary visibility
    if (summaryDiv.style.display === 'none') {
        summaryDiv.style.display = 'block';
        questionDiv.classList.remove('active');
        summaryBtn.classList.add('active');
        questionBtn.classList.remove('active');
    } else {
        summaryDiv.style.display = 'none';
        summaryBtn.classList.remove('active');
    }
}

function showQuestionContent() {
    const summaryDiv = document.getElementById('summaryContentDiv');
    const questionDiv = document.getElementById('questionContentDiv');
    const summaryBtn = document.querySelector('.show-summary-btn');
    const questionBtn = document.querySelector('.show-question-btn');
    
    // Toggle question visibility
    if (!questionDiv.classList.contains('active')) {
        questionDiv.classList.add('active');
        summaryDiv.style.display = 'none';
        questionBtn.classList.add('active');
        summaryBtn.classList.remove('active');
    } else {
        questionDiv.classList.remove('active');
        questionBtn.classList.remove('active');
    }
}

        // ADD THESE THREE NEW FUNCTIONS:

function toggleSummaryMermaid() {
    const container = document.getElementById('summaryMermaidContainer');
    const button = event.target;
    
    if (container.classList.contains('active')) {
        container.classList.remove('active');
        button.textContent = 'üìä ‡¨Ü‡¨∏‡¨®‡≠ç‡¨§‡≠Å, ‡¨ö‡¨ø‡¨§‡≠ç‡¨∞ ‡¨¶‡≠á‡¨ñ‡¨ø ‡¨¨‡≠Å‡¨ù‡¨ø‡¨¨‡¨æ..';
    } else {
        loadSummaryMermaid();
        container.classList.add('active');
        button.textContent = '‚úñÔ∏è ‡¨ö‡¨ø‡¨§‡≠ç‡¨∞‡¨ï‡≠Å ‡¨¨‡¨®‡≠ç‡¨¶ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ';
    }
}

function toggleQuestionMermaid() {
    const container = document.getElementById('questionMermaidContainer');
    const button = event.target;
    
    if (container.classList.contains('active')) {
        container.classList.remove('active');
        button.textContent = 'üìä ‡¨Ü‡¨∏‡¨®‡≠ç‡¨§‡≠Å, ‡¨ö‡¨ø‡¨§‡≠ç‡¨∞ ‡¨¶‡≠á‡¨ñ‡¨ø ‡¨¨‡≠Å‡¨ù‡¨ø‡¨¨‡¨æ..';
    } else {
        loadQuestionMermaid();
        container.classList.add('active');
        button.textContent = '‚úñÔ∏è ‡¨ö‡¨ø‡¨§‡≠ç‡¨∞‡¨ï‡≠Å ‡¨¨‡¨®‡≠ç‡¨¶ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ';
    }
}

function loadSummaryMermaid() {
    const summary = courseData.summary;
    const container = document.getElementById('summaryMermaidContainer');
    
    if (summary.summaryMermaid) {
        const diagramId = `mermaid-summary-diagram`;
        
        container.innerHTML = `
            <h3>üìä ‡¨∏‡¨æ‡¨∞‡¨ï‡¨•‡¨æ ‡¨ö‡¨ø‡¨§‡≠ç‡¨∞ :</h3>
            <div id="${diagramId}" class="mermaid">
                ${summary.summaryMermaid}
            </div>
        `;
        
        mermaid.run({
            nodes: document.querySelectorAll(`#${diagramId}`)
        });
    }
}

function loadQuestionMermaid() {
    const summary = courseData.summary;
    const container = document.getElementById('questionMermaidContainer');
    
    if (summary.questionMermaid) {
        const diagramId = `mermaid-question-diagram`;
        
        container.innerHTML = `
            <h3>üìä ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨® ‡¨ö‡¨ø‡¨§‡≠ç‡¨∞ :</h3>
            <div id="${diagramId}" class="mermaid">
                ${summary.questionMermaid}
            </div>
        `;
        
        mermaid.run({
            nodes: document.querySelectorAll(`#${diagramId}`)
        });
    }
}


        
        function calculateSummaryMaxScores() {
            maxScores.mcq = 0;
            maxScores.tf = 0;
            maxScores.fib = 0;
            maxScores.matching = 0;
            maxScores.arrange = 0;
            
            courseData.sentences.forEach(sentence => {
                maxScores.mcq += sentence.mcq.questions.length;
                maxScores.tf += sentence.trueFalse.questions.length;
                maxScores.fib += sentence.fillBlanks.questions.length;
                maxScores.matching += sentence.matching.pairs.length;
                maxScores.arrange += sentence.arrange.questions.length;
            });
        }

        function updateProgress() {
            if (isSummaryScreen) {
                progressFill.style.width = '100%';
            } else {
                const progress = ((currentSentence + 1) / courseData.sentences.length) * 100;
                progressFill.style.width = progress + '%';
            }
        }

        function updateScoreDisplay() {
            const total = Object.values(scores).reduce((a, b) => a + b, 0);
            const max = Object.values(maxScores).reduce((a, b) => a + b, 0);
            totalScoreEl.textContent = total;
            maxScoreEl.textContent = max;
            scoreDisplay.style.display = 'block';
        }

      function createMCQTest() {
    cleanupAudio(); // Stop any playing audio
    
    let allQuestions = [];
    
    if (isSummaryScreen) {
        courseData.sentences.forEach((sentence, sIndex) => {
            sentence.mcq.questions.forEach(q => {
                allQuestions.push({...q, sentenceIndex: sIndex});
            });
        });
    } else {
        const data = courseData.sentences[currentSentence].mcq;
        allQuestions = data.questions.map(q => ({...q, sentenceIndex: currentSentence}));
    }
    
    let html = '<div class="test-section active"><h3 style="color: #667eea;">üìù ‡¨¨‡¨ø‡¨ï‡¨≥‡≠ç‡¨™‡¨Ø‡≠Å‡¨ï‡≠ç‡¨§ ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨® :: </h3>';
    
    allQuestions.forEach((q, qIndex) => {
        const audioButton = createAudioButton(q.audio, `mcq-q${qIndex}`);
        
        html += `<div class="question" data-q="${qIndex}">
            <div class="question-header">
                <div class="question-text">${qIndex + 1}. ${q.question}</div>
                ${audioButton}
            </div>`;
        
        q.options.forEach((opt, oIndex) => {
            html += `<div class="option" data-q="${qIndex}" data-o="${oIndex}">${opt}</div>`;
        });
        
        html += '</div>';
    });
    
    html += '<button class="submit-btn" onclick="submitMCQ()">‡¨â‡¨§‡≠ç‡¨§‡¨∞ ‡¨¶‡¨æ‡¨ñ‡¨≤ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§</button></div>';
    testContainer.innerHTML = html;
    
    document.querySelectorAll('.option').forEach(opt => {
        opt.addEventListener('click', function() {
            const qNum = this.dataset.q;
            document.querySelectorAll(`.option[data-q="${qNum}"]`).forEach(o => o.classList.remove('selected'));
            this.classList.add('selected');
        });
    });
}
           
        function submitMCQ() {
            let allQuestions = [];
            
            if (isSummaryScreen) {
                courseData.sentences.forEach(sentence => {
                    sentence.mcq.questions.forEach(q => allQuestions.push(q));
                });
            } else {
                allQuestions = courseData.sentences[currentSentence].mcq.questions;
            }
            
            let score = 0;
            
            allQuestions.forEach((q, qIndex) => {
                const selected = document.querySelector(`.option[data-q="${qIndex}"].selected`);
                const options = document.querySelectorAll(`.option[data-q="${qIndex}"]`);
                
                options.forEach((opt, oIndex) => {
                    if (oIndex === q.correct) {
                        opt.classList.add('correct');
                    }
                    if (selected && selected.dataset.o == oIndex && oIndex !== q.correct) {
                        opt.classList.add('wrong');
                    }
                });
                
                if (selected && selected.dataset.o == q.correct) {
                    score++;
                }
            });
            
            scores.mcq += score;
            completedTests.mcq = true;
            updateScoreDisplay();
            
            const feedback = document.createElement('div');
            feedback.className = `feedback ${score === allQuestions.length ? 'correct' : 'wrong'}`;
            feedback.textContent = `‡¨Ü‡¨™‡¨£ ‡¨Æ‡¨æ‡¨∞‡≠ç‡¨ï‡≠ç ‡¨∞‡¨ñ‡¨ø‡¨õ‡¨®‡≠ç‡¨§‡¨ø : ${score}/${allQuestions.length}`;
            testContainer.querySelector('.test-section').appendChild(feedback);
            
            testContainer.querySelector('.submit-btn').disabled = true;
        }

        function createTFTest() {
    cleanupAudio();
    
    let allQuestions = [];
    
    if (isSummaryScreen) {
        courseData.sentences.forEach(sentence => {
            sentence.trueFalse.questions.forEach(q => allQuestions.push(q));
        });
    } else {
        allQuestions = courseData.sentences[currentSentence].trueFalse.questions;
    }
    
    let html = '<div class="test-section active"><h3 style="color: #4facfe;">‚úì ‡¨∏‡¨§‡≠ç‡≠ü/‡¨Æ‡¨ø‡¨•‡≠ç‡≠ü‡¨æ ‡¨¶‡¨∞‡≠ç‡¨∂‡¨æ‡¨á‡¨¨‡¨æ‡¨Ø‡≠Å‡¨ï‡≠ç‡¨§ ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨® :</h3>';
    
    allQuestions.forEach((q, qIndex) => {
        const audioButton = createAudioButton(q.audio, `tf-q${qIndex}`);
        
        html += `<div class="question" data-q="${qIndex}">
            <div class="question-header">
                <div class="question-text">${qIndex + 1}. ${q.question}</div>
                ${audioButton}
            </div>
            <div class="option" data-q="${qIndex}" data-answer="true">‡¨∏‡¨§‡≠ç‡≠ü</div>
            <div class="option" data-q="${qIndex}" data-answer="false">‡¨Æ‡¨ø‡¨•‡≠ç‡≠ü‡¨æ</div>
        </div>`;
    });
    
    html += '<button class="submit-btn" onclick="submitTF()">‡¨â‡¨§‡≠ç‡¨§‡¨∞ ‡¨¶‡¨æ‡¨ñ‡¨≤ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§ </button></div>';
    testContainer.innerHTML = html;
    
    document.querySelectorAll('.option').forEach(opt => {
        opt.addEventListener('click', function() {
            const qNum = this.dataset.q;
            document.querySelectorAll(`.option[data-q="${qNum}"]`).forEach(o => o.classList.remove('selected'));
            this.classList.add('selected');
        });
    });
}
           
        function submitTF() {
            let allQuestions = [];
            
            if (isSummaryScreen) {
                courseData.sentences.forEach(sentence => {
                    sentence.trueFalse.questions.forEach(q => allQuestions.push(q));
                });
            } else {
                allQuestions = courseData.sentences[currentSentence].trueFalse.questions;
            }
            
            let score = 0;
            
            allQuestions.forEach((q, qIndex) => {
                const selected = document.querySelector(`.option[data-q="${qIndex}"].selected`);
                const options = document.querySelectorAll(`.option[data-q="${qIndex}"]`);
                
                options.forEach(opt => {
                    const isCorrect = (opt.dataset.answer === 'true') === q.correct;
                    if (isCorrect) {
                        opt.classList.add('correct');
                    }
                    if (selected && selected === opt && !isCorrect) {
                        opt.classList.add('wrong');
                    }
                });
                
                if (selected && (selected.dataset.answer === 'true') === q.correct) {
                    score++;
                }
            });
            
            scores.tf += score;
            completedTests.tf = true;
            updateScoreDisplay();
            
            const feedback = document.createElement('div');
            feedback.className = `feedback ${score === allQuestions.length ? 'correct' : 'wrong'}`;
            feedback.textContent = `‡¨Ü‡¨™‡¨£ ‡¨Æ‡¨æ‡¨∞‡≠ç‡¨ï‡≠ç ‡¨∞‡¨ñ‡¨ø‡¨õ‡¨®‡≠ç‡¨§‡¨ø : ${score}/${allQuestions.length}`;
            testContainer.querySelector('.test-section').appendChild(feedback);
            
            testContainer.querySelector('.submit-btn').disabled = true;
        }

       function createFIBTest() {
    cleanupAudio();
    
    let allQuestions = [];
    
    if (isSummaryScreen) {
        courseData.sentences.forEach(sentence => {
            sentence.fillBlanks.questions.forEach(q => allQuestions.push(q));
        });
    } else {
        allQuestions = courseData.sentences[currentSentence].fillBlanks.questions;
    }
    
    let html = '<div class="test-section active"><h3 style="color: #43e97b;">‚úèÔ∏è ‡¨∂‡≠Ç‡¨®‡≠ç‡≠ü ‡¨∏‡≠ç‡¨•‡¨æ‡¨®‡¨ó‡≠Å‡¨°‡¨ø‡¨ï ‡¨™‡≠Ç‡¨∞‡¨£ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å : </h3>';
    
    allQuestions.forEach((q, qIndex) => {
        const audioButton = createAudioButton(q.audio, `fib-q${qIndex}`);
        
        html += `<div class="question" data-q="${qIndex}">
            <div class="question-header">
                <div class="question-text">${qIndex + 1}. ${q.question}</div>
                ${audioButton}
            </div>
            <input type="text" class="input-box" data-q="${qIndex}" placeholder="‡¨è‡¨†‡¨æ‡¨∞‡≠á ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨â‡¨§‡≠ç‡¨§‡¨∞ ‡¨≤‡≠á‡¨ñ‡¨®‡≠ç‡¨§‡≠Å...">
        </div>`;
    });
    
    html += '<button class="submit-btn" onclick="submitFIB()">‡¨â‡¨§‡≠ç‡¨§‡¨∞ ‡¨¶‡¨æ‡¨ñ‡¨≤ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§</button></div>';
    testContainer.innerHTML = html;
}

           

        function submitFIB() {
            let allQuestions = [];
            
            if (isSummaryScreen) {
                courseData.sentences.forEach(sentence => {
                    sentence.fillBlanks.questions.forEach(q => allQuestions.push(q));
                });
            } else {
                allQuestions = courseData.sentences[currentSentence].fillBlanks.questions;
            }
            
            let score = 0;
            
            allQuestions.forEach((q, qIndex) => {
                const input = document.querySelector(`.input-box[data-q="${qIndex}"]`);
                const userAnswer = input.value.trim().toLowerCase();
                const correctAnswer = q.answer.toLowerCase();
                
                if (userAnswer === correctAnswer) {
                    input.style.borderColor = '#4CAF50';
                    input.style.background = '#c8e6c9';
                    score++;
                } else {
                    input.style.borderColor = '#f44336';
                    input.style.background = '#ffcdd2';
                    
                    const correctMsg = document.createElement('div');
                    correctMsg.style.cssText = 'margin-top: 8px; color: #2e7d32; font-size: 12px;';
                    correctMsg.textContent = `‡¨∏‡¨†‡¨ø‡¨ï‡≠ç ‡¨â‡¨§‡≠ç‡¨§‡¨∞ ‡¨π‡≠á‡¨â‡¨õ‡¨ø: ${q.answer}`;
                    input.parentElement.appendChild(correctMsg);
                }
                
                input.disabled = true;
            });
            
            scores.fib += score;
            completedTests.fib = true;
            updateScoreDisplay();
            
            const feedback = document.createElement('div');
            feedback.className = `feedback ${score === allQuestions.length ? 'correct' : 'wrong'}`;
            feedback.textContent = `‡¨Ü‡¨™‡¨£ ‡¨Æ‡¨æ‡¨∞‡≠ç‡¨ï‡≠ç ‡¨∞‡¨ñ‡¨ø‡¨õ‡¨®‡≠ç‡¨§‡¨ø : ${score}/${allQuestions.length}`;
            testContainer.querySelector('.test-section').appendChild(feedback);
            
            testContainer.querySelector('.submit-btn').disabled = true;
        }

        function createMatchingTest() {
    cleanupAudio();
    
    let allPairs = [];
    
    if (isSummaryScreen) {
        courseData.sentences.forEach(sentence => {
            sentence.matching.pairs.forEach(p => allPairs.push(p));
        });
    } else {
        allPairs = courseData.sentences[currentSentence].matching.pairs;
    }
    
    let html = '<div class="test-section active"><h3 style="color: #fa709a;">üîó ‡¨Ø‡≠ã‡¨°‡¨º‡¨ø‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï‡≠Å ‡¨Æ‡≠á‡¨≥ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å :</h3>';
    html += '<p style="margin-bottom: 12px; font-size: 12px;">‡¨Æ‡≠á‡¨≥ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨â‡¨≠‡≠ü ‡¨∏‡≠ç‡¨§‡¨Æ‡≠ç‡¨≠‡¨∞ ‡¨≤‡≠á‡¨ñ‡¨æ‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï‡≠Å ‡¨ï‡≠ç‡¨≤‡¨ø‡¨ï‡≠ç ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§ </p>';
    
    const shuffledRight = [...allPairs.map(p => p.right)].sort(() => Math.random() - 0.5);
    
    html += '<div class="matching-container">';
    
    html += '<div>';
    allPairs.forEach((pair, index) => {
        const audioButton = createAudioButton(pair.leftAudio, `match-left-${index}`);
        html += `<div class="match-item" data-left="${index}" data-value="${pair.left}">
            ${pair.left} ${audioButton}
        </div>`;
    });
    html += '</div>';
    
    html += '<div>';
    shuffledRight.forEach((right, index) => {
        const originalPair = allPairs.find(p => p.right === right);
        const audioButton = createAudioButton(originalPair.rightAudio, `match-right-${index}`);
        html += `<div class="match-item" data-right="${index}" data-value="${right}">
            ${right} ${audioButton}
        </div>`;
    });
    html += '</div>';
    
    html += '</div>';
    html += '<button class="submit-btn" onclick="submitMatching()">‡¨â‡¨§‡≠ç‡¨§‡¨∞ ‡¨¶‡¨æ‡¨ñ‡¨≤ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§ </button></div>';
    testContainer.innerHTML = html;
    
    let selectedLeft = null;
    let selectedRight = null;
    let matches = [];
    
    document.querySelectorAll('.match-item[data-left]').forEach(item => {
        item.addEventListener('click', function(e) {
            // Don't trigger if clicking audio button
            if (e.target.classList.contains('audio-control-btn')) return;
            
            if (this.classList.contains('correct')) return;
            document.querySelectorAll('.match-item[data-left]').forEach(i => i.classList.remove('selected'));
            this.classList.add('selected');
            selectedLeft = this;
            
            if (selectedRight) {
                matches.push({ left: selectedLeft, right: selectedRight });
                selectedLeft.classList.add('correct');
                selectedRight.classList.add('correct');
                selectedLeft.classList.remove('selected');
                selectedRight.classList.remove('selected');
                selectedLeft = null;
                selectedRight = null;
            }
        });
    });
    
    document.querySelectorAll('.match-item[data-right]').forEach(item => {
        item.addEventListener('click', function(e) {
            // Don't trigger if clicking audio button
            if (e.target.classList.contains('audio-control-btn')) return;
            
            if (this.classList.contains('correct')) return;
            document.querySelectorAll('.match-item[data-right]').forEach(i => i.classList.remove('selected'));
            this.classList.add('selected');
            selectedRight = this;
            
            if (selectedLeft) {
                matches.push({ left: selectedLeft, right: selectedRight });
                selectedLeft.classList.add('correct');
                selectedRight.classList.add('correct');
                selectedLeft.classList.remove('selected');
                selectedRight.classList.remove('selected');
                selectedLeft = null;
                selectedRight = null;
            }
        });
    });
    
    window.currentMatches = matches;
}
           
        function submitMatching() {
            let allPairs = [];
            
            if (isSummaryScreen) {
                courseData.sentences.forEach(sentence => {
                    sentence.matching.pairs.forEach(p => allPairs.push(p));
                });
            } else {
                allPairs = courseData.sentences[currentSentence].matching.pairs;
            }
            
            let score = 0;
            
            // First, mark all matched items
            window.currentMatches.forEach(match => {
                const leftValue = match.left.dataset.value;
                const rightValue = match.right.dataset.value;
                
                const isCorrect = allPairs.some(pair => pair.left === leftValue && pair.right === rightValue);
                
                if (isCorrect) {
                    score++;
                } else {
                    match.left.classList.remove('correct');
                    match.left.classList.add('wrong');
                    match.right.classList.remove('correct');
                    match.right.classList.add('wrong');
                }
            });
            
            // Now show all correct answers by highlighting unmatched or wrongly matched pairs
            allPairs.forEach((pair, pairIndex) => {
                // Find the left item
                const leftItems = document.querySelectorAll('.match-item[data-left]');
                const rightItems = document.querySelectorAll('.match-item[data-right]');
                
                let leftItem = null;
                let rightItem = null;
                
                leftItems.forEach(item => {
                    if (item.dataset.value === pair.left) {
                        leftItem = item;
                    }
                });
                
                rightItems.forEach(item => {
                    if (item.dataset.value === pair.right) {
                        rightItem = item;
                    }
                });
                
                // If either is wrong or not marked as correct, show the correct pairing
                if (leftItem && rightItem) {
                    if (!leftItem.classList.contains('correct') || !rightItem.classList.contains('correct')) {
                        // Add visual indicator for correct answer
                        leftItem.style.boxShadow = '0 0 0 3px #4CAF50';
                        rightItem.style.boxShadow = '0 0 0 3px #4CAF50';
                    }
                }
            });
            
            scores.matching += score;
            completedTests.matching = true;
            updateScoreDisplay();
            
            const feedback = document.createElement('div');
            feedback.className = `feedback ${score === allPairs.length ? 'correct' : 'wrong'}`;
            feedback.textContent = `‡¨Ü‡¨™‡¨£ ‡¨Æ‡¨æ‡¨∞‡≠ç‡¨ï‡≠ç ‡¨∞‡¨ñ‡¨ø‡¨õ‡¨®‡≠ç‡¨§‡¨ø : ${score}/${allPairs.length}`;
            
            // Add correct answers display
            if (score < allPairs.length) {
                const correctAnswersDiv = document.createElement('div');
                correctAnswersDiv.style.cssText = 'margin-top: 10px; text-align: left; font-size: 12px; font-weight: normal;';
                correctAnswersDiv.innerHTML = '<strong style="color: #2e7d32;">‡¨∏‡¨†‡¨ø‡¨ï‡≠ç ‡¨Ø‡≠ã‡¨°‡¨ø‡¨ó‡≠Å‡¨°‡¨ø‡¨ï ‡¨π‡≠á‡¨â‡¨õ‡¨®‡≠ç‡¨§‡¨ø :</strong><br>';
                allPairs.forEach((pair, idx) => {
                    correctAnswersDiv.innerHTML += `${idx + 1}. ${pair.left} ‚Üí ${pair.right}<br>`;
                });
                feedback.appendChild(correctAnswersDiv);
            }
            
            testContainer.querySelector('.test-section').appendChild(feedback);
            
            testContainer.querySelector('.submit-btn').disabled = true;
            
            // Disable further clicking
            document.querySelectorAll('.match-item').forEach(item => {
                item.style.pointerEvents = 'none';
            });
        }

       function createArrangeTest() {
    cleanupAudio();
    
    let allQuestions = [];
    
    if (isSummaryScreen) {
        courseData.sentences.forEach(sentence => {
            sentence.arrange.questions.forEach(q => allQuestions.push(q));
        });
    } else {
        allQuestions = courseData.sentences[currentSentence].arrange.questions;
    }
    
    let html = '<div class="test-section active"><h3 style="color: #30cfd0;">üî§ ‡¨∂‡¨¨‡≠ç‡¨¶‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï‡≠Å ‡¨ï‡≠ç‡¨∞‡¨Æ‡¨æ‡¨®‡≠ç‡¨µ‡≠ü ‡¨∞‡≠á ‡¨∏‡¨ú‡¨æ‡¨®‡≠ç‡¨§‡≠Å :</h3>';
    
    allQuestions.forEach((q, qIndex) => {
        const shuffledWords = [...q.words].sort(() => Math.random() - 0.5);
        const audioButton = createAudioButton(q.audio, `arrange-q${qIndex}`);
        
        html += `<div class="question" data-q="${qIndex}">
            <div class="question-header">
                <div class="question-text">${qIndex + 1}. ‡¨∏‡¨†‡¨ø‡¨ï‡≠ç ‡¨ï‡≠ç‡¨∞‡¨Æ‡¨∞‡≠á ‡¨∏‡¨ú‡¨æ‡¨®‡≠ç‡¨§‡≠Å:</div>
                ${audioButton}
            </div>
            <div class="arrange-words" data-q="${qIndex}">`;
        
        shuffledWords.forEach((word, wIndex) => {
            html += `<div class="word-chip" data-q="${qIndex}" data-word="${word}">${word}</div>`;
        });
        
        html += `</div>
            <div class="arranged-answer" data-q="${qIndex}">‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨â‡¨§‡≠ç‡¨§‡¨∞: </div>
        </div>`;
    });
    
    html += '<button class="submit-btn" onclick="submitArrange()">‡¨â‡¨§‡≠ç‡¨§‡¨∞ ‡¨¶‡¨æ‡¨ñ‡¨≤ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡•§</button></div>';
    testContainer.innerHTML = html;
    
    const selectedWords = {};
    
    document.querySelectorAll('.word-chip').forEach(chip => {
        chip.addEventListener('click', function() {
            const qNum = this.dataset.q;
            if (!selectedWords[qNum]) selectedWords[qNum] = [];
            
            if (this.classList.contains('selected')) {
                this.classList.remove('selected');
                const index = selectedWords[qNum].indexOf(this.dataset.word);
                if (index > -1) selectedWords[qNum].splice(index, 1);
            } else {
                this.classList.add('selected');
                selectedWords[qNum].push(this.dataset.word);
            }
            
            document.querySelector(`.arranged-answer[data-q="${qNum}"]`).textContent = '‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨â‡¨§‡≠ç‡¨§‡¨∞: ' + selectedWords[qNum].join(' ');
        });
    });
    
    window.selectedArrangeWords = selectedWords;
}

           
        function submitArrange() {
            let allQuestions = [];
            
            if (isSummaryScreen) {
                courseData.sentences.forEach(sentence => {
                    sentence.arrange.questions.forEach(q => allQuestions.push(q));
                });
            } else {
                allQuestions = courseData.sentences[currentSentence].arrange.questions;
            }
            
            let score = 0;
            
            allQuestions.forEach((q, qIndex) => {
                const userAnswer = (window.selectedArrangeWords[qIndex] || []).join(' ');
                const correctAnswer = q.correct;
                
                const answerSpan = document.querySelector(`.arranged-answer[data-q="${qIndex}"]`);
                
                if (userAnswer.toLowerCase() === correctAnswer.toLowerCase()) {
                    answerSpan.style.color = '#4CAF50';
                    score++;
                } else {
                    answerSpan.style.color = '#f44336';
                    const correctMsg = document.createElement('div');
                    correctMsg.style.cssText = 'margin-top: 6px; color: #2e7d32; font-size: 12px;';
                    correctMsg.textContent = `‡¨∏‡¨†‡¨ø‡¨ï‡≠ç ‡¨â‡¨§‡≠ç‡¨§‡¨∞ ‡¨π‡≠á‡¨â‡¨õ‡¨ø: ${correctAnswer}`;
                    answerSpan.parentElement.appendChild(correctMsg);
                }
            });
            
            scores.arrange += score;
            completedTests.arrange = true;
            if (!isSummaryScreen) {
                nextBtn.disabled = false;
            }
            updateScoreDisplay();
            
            const feedback = document.createElement('div');
            feedback.className = `feedback ${score === allQuestions.length ? 'correct' : 'wrong'}`;
            feedback.textContent = `‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨Æ‡¨æ‡¨∞‡≠ç‡¨ï‡≠ç: ${score}/${allQuestions.length}`;
            testContainer.querySelector('.test-section').appendChild(feedback);
            
            testContainer.querySelector('.submit-btn').disabled = true;
            
            document.querySelectorAll('.word-chip').forEach(chip => {
                chip.style.pointerEvents = 'none';
            });
        }


function createSTQTest() {
    cleanupAudio(); // Stop any playing audio
    
    let allQuestions = [];
    
    if (isSummaryScreen) {
        courseData.sentences.forEach((sentence, sIndex) => {
            sentence.stq.questions.forEach(q => {
                allQuestions.push({...q, sentenceIndex: sIndex});
            });
        });
    } else {
        allQuestions = courseData.sentences[currentSentence].stq.questions;
    }
    
    let html = '<div class="test-section active"><h3 style="color: #eb3349;">üìù ‡¨Ö‡¨§‡¨ø ‡¨∏‡¨Ç‡¨ï‡≠ç‡¨∑‡¨ø‡¨™‡≠ç‡¨§ ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨®‡≠ã‡¨§‡≠ç‡¨§‡¨∞ :</h3>';
    
    allQuestions.forEach((q, qIndex) => {
        const audioButton = createAudioButton(q.audio, `stq-q${qIndex}`);
        
        html += `<div class="question" data-q="${qIndex}">
            <div class="question-header">
                <div class="question-text" style="font-size: 15px; margin-bottom: 0;">${qIndex + 1}. ${q.question}</div>
                ${audioButton}
            </div>
            <div style="background: #e8f5e9; padding: 12px; border-radius: 8px; border-left: 4px solid #4CAF50; margin-top: 12px;">
                <strong style="color: #2e7d32;">‡¨â‡¨§‡≠ç‡¨§‡¨∞:</strong>
                <p style="margin-top: 8px; color: #333; line-height: 1.6; text-align: justify;">${q.answer}</p>
            </div>
        </div>`;
    });
    
    html += '</div>';
    testContainer.innerHTML = html;
}
        mcqBtn.addEventListener('click', createMCQTest);
        tfBtn.addEventListener('click', createTFTest);
        fibBtn.addEventListener('click', createFIBTest);
        matchBtn.addEventListener('click', createMatchingTest);
        arrangeBtn.addEventListener('click', createArrangeTest);
        stqBtn.addEventListener('click', createSTQTest);

        prevBtn.addEventListener('click', () => {
            if (isSummaryScreen) {
                currentSentence = courseData.sentences.length - 1;
                loadSentence(currentSentence);
            } else if (currentSentence > 0) {
                currentSentence--;
                loadSentence(currentSentence);
            } else {
                // If at first sentence, go to summary
                loadSummary();
            }
        });

       nextBtn.addEventListener('click', () => {
    if (currentSentence < courseData.sentences.length - 1) {
        currentSentence++;
        loadSentence(currentSentence);
    } else {
        // Show summary screen after the last sentence
        loadSummary();
    }
});
        // Don't auto-start - wait for authentication
// loadSentence will be called after successful login
prevBtn.disabled = true;

// Initialize after login
function initializeApp() {
    loadSentence(0);
}

// Call after successful authentication

// What's in the Class Toggle Functionality
document.getElementById('toggleClassInfo').addEventListener('click', function() {
    const options = document.getElementById('classInfoOptions');
    const audioPlayer = document.getElementById('audioPlayer');
    const classContent = document.getElementById('classContent');
    
    if (options.style.display === 'none') {
        options.style.display = 'grid';
        this.textContent = '‚ùå Hide Class Info';
    } else {
        options.style.display = 'none';
        audioPlayer.style.display = 'none';
        classContent.style.display = 'none';
        this.textContent = 'üìö What\'s in the Class?';
        
        // Stop audio if playing
        const audio = document.getElementById('classAudio');
        audio.pause();
        audio.currentTime = 0;
    }
});

document.getElementById('listenBtn').addEventListener('click', function() {
    const audioPlayer = document.getElementById('audioPlayer');
    const classContent = document.getElementById('classContent');
    
    // Hide content box, show audio player
    classContent.style.display = 'none';
    
    if (audioPlayer.style.display === 'none') {
        audioPlayer.style.display = 'block';
        const audio = document.getElementById('classAudio');
        audio.play();
    } else {
        audioPlayer.style.display = 'none';
        const audio = document.getElementById('classAudio');
        audio.pause();
        audio.currentTime = 0;
    }
});

document.getElementById('seeBtn').addEventListener('click', function() {
    const classContent = document.getElementById('classContent');
    const audioPlayer = document.getElementById('audioPlayer');
    
    // Hide audio player, show content box
    audioPlayer.style.display = 'none';
    const audio = document.getElementById('classAudio');
    audio.pause();
    audio.currentTime = 0;
    
    if (classContent.style.display === 'none') {
        classContent.style.display = 'block';
    } else {
        classContent.style.display = 'none';
    }
});

document.getElementById('stopAudioBtn').addEventListener('click', function() {
    const audio = document.getElementById('classAudio');
    audio.pause();
    audio.currentTime = 0;
});
// AI Assistant Toggle Functionality
let assistantLoaded = false;

document.getElementById('toggleAssistantBtn').addEventListener('click', function() {
    const container = document.getElementById('assistantContainer');
    const iframe = document.getElementById('assistantIframe');
    const loading = document.getElementById('assistantLoading');
    
    if (container.classList.contains('active')) {
        // Close assistant
        closeAssistant();
    } else {
        // Open assistant
        container.classList.add('active');
        this.textContent = '‚úñÔ∏è ‡¨Ü‡¨∏‡¨ø‡¨∑‡≠ç‡¨ü‡¨æ‡¨£‡≠ç‡¨ü ‡¨¨‡¨®‡≠ç‡¨¶ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ';
        this.style.background = 'linear-gradient(135deg, #f5576c 0%, #f093fb 100%)';
        
        // Load iframe only once
        if (!assistantLoaded) {
            setTimeout(() => {
                iframe.src = 'https://student.schoolai.com/dot/spaces/join?code=AWSM-E74Y';
                iframe.style.display = 'block';
                loading.style.display = 'none';
                assistantLoaded = true;
            }, 500);
        } else {
            iframe.style.display = 'block';
            loading.style.display = 'none';
        }
        
        // Scroll to assistant (smooth on mobile)
        setTimeout(() => {
            container.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }, 100);
    }
});

function closeAssistant() {
    const container = document.getElementById('assistantContainer');
    const btn = document.getElementById('toggleAssistantBtn');
    const iframe = document.getElementById('assistantIframe');
    
    container.classList.remove('active');
    btn.textContent = 'üôã ‡¨Ü‡¨∏‡¨®‡≠ç‡¨§‡≠Å, ‡¨è‡¨†‡¨æ‡¨∞‡≠á ‡¨Ü‡¨∏‡¨ø‡¨∑‡≠ç‡¨ü‡¨æ‡¨£‡≠ç‡¨ü ‡¨ï‡≠Å ‡¨™‡¨æ‡¨† ‡¨™‡¨ö‡¨æ‡¨∞‡¨ø‡¨¨‡¨æ...';
    btn.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
    
    // Optional: hide iframe to save resources
    // iframe.style.display = 'none';
}
    </script>
</body>
</html>
